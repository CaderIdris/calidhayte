<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.3.0"/>
    <title>calidhayte.results API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style><script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
    };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
    /* Re-invoke MathJax when DOM content changes, for example during search. */
    document.addEventListener("DOMContentLoaded", () => {
        new MutationObserver(() => MathJax.typeset()).observe(
            document.querySelector("main.pdoc").parentNode,
            {childList: true}
        );
    })
</script>
<style>
    mjx-container {
        overflow-x: auto;
    }
</style><style>
    .pdoc .mermaid-pre {
        border: none;
        background: none;
    }
</style>
<script type="module" defer>
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";

    /* Re-invoke Mermaid when DOM content changes, for example during search. */
    document.addEventListener("DOMContentLoaded", () => {
        new MutationObserver(() => mermaid.run()).observe(
            document.querySelector("main.pdoc").parentNode,
            {childList: true}
        );
    })
</script></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../calidhayte.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;calidhayte</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#CoefficientPipelineDict">CoefficientPipelineDict</a>
            </li>
            <li>
                    <a class="variable" href="#logger">logger</a>
            </li>
            <li>
                    <a class="function" href="#crmse">crmse</a>
            </li>
            <li>
                    <a class="function" href="#mean_bias_error">mean_bias_error</a>
            </li>
            <li>
                    <a class="function" href="#ubrmse">ubrmse</a>
            </li>
            <li>
                    <a class="function" href="#ref_mean">ref_mean</a>
            </li>
            <li>
                    <a class="function" href="#ref_sd">ref_sd</a>
            </li>
            <li>
                    <a class="function" href="#ref_range">ref_range</a>
            </li>
            <li>
                    <a class="function" href="#ref_iqr">ref_iqr</a>
            </li>
            <li>
                    <a class="class" href="#Results">Results</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Results.__init__">Results</a>
                        </li>
                        <li>
                                <a class="variable" href="#Results.x">x</a>
                        </li>
                        <li>
                                <a class="variable" href="#Results.y">y</a>
                        </li>
                        <li>
                                <a class="variable" href="#Results.target">target</a>
                        </li>
                        <li>
                                <a class="variable" href="#Results.models">models</a>
                        </li>
                        <li>
                                <a class="variable" href="#Results.errors">errors</a>
                        </li>
                        <li>
                                <a class="variable" href="#Results.pred_vals">pred_vals</a>
                        </li>
                        <li>
                                <a class="variable" href="#Results.cached_error_length">cached_error_length</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.explained_variance_score">explained_variance_score</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.max">max</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.mean_absolute">mean_absolute</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.root_mean_squared">root_mean_squared</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.root_mean_squared_log">root_mean_squared_log</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.median_absolute">median_absolute</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.mean_absolute_percentage">mean_absolute_percentage</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.r2">r2</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.mean_poisson_deviance">mean_poisson_deviance</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.mean_gamma_deviance">mean_gamma_deviance</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.mean_tweedie_deviance">mean_tweedie_deviance</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.mean_pinball_loss">mean_pinball_loss</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.centered_rmse">centered_rmse</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.unbiased_rmse">unbiased_rmse</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.mbe">mbe</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.ref_iqr">ref_iqr</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.ref_mean">ref_mean</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.ref_range">ref_range</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.ref_sd">ref_sd</a>
                        </li>
                        <li>
                                <a class="function" href="#Results.return_errors">return_errors</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../calidhayte.html">calidhayte</a><wbr>.results    </h1>

                        <div class="docstring"><p>Determine the performance of different calibration techniques using a range of
different metrics.</p>

<p>Acts as a wrapper for scikit-learn performance metrics <sup class="footnote-ref" id="fnref-skl"><a href="#fn-skl">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-skl">
<p><a href="https://scikit-learn.org/stable/modules/classes.html">https://scikit-learn.org/stable/modules/classes.html</a>&#160;<a href="#fnref-skl" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>

                        <input id="mod-results-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-results-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="sd">Determine the performance of different calibration techniques using a range of</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">different metrics.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="sd">Acts as a wrapper for scikit-learn performance metrics [^skl].</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="sd">[^skl]: https://scikit-learn.org/stable/modules/classes.html</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">import</span> <span class="nn">logging</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="kn">import</span> <span class="nn">pickle</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">TypeAlias</span><span class="p">,</span> <span class="n">Union</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span> <span class="k">as</span> <span class="n">met</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="n">CoefficientPipelineDict</span><span class="p">:</span> <span class="n">TypeAlias</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">[</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>    <span class="nb">str</span><span class="p">,</span>  <span class="c1"># Technique name</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>    <span class="nb">dict</span><span class="p">[</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a>        <span class="nb">str</span><span class="p">,</span>  <span class="c1"># Scaling technique</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a>        <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="n">Pipeline</span><span class="p">]]],</span>  <span class="c1"># Variable combo  # Fold</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>    <span class="p">],</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="p">]</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="sd">Type alias for the nested dictionaries that the models are stored in</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;__main__.</span><span class="si">{</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="k">def</span> <span class="nf">crmse</span><span class="p">(</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>    <span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">squared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="p">):</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">    Calculate the centered root mean squared error between pred and true</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">    $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n-\\bar{p}) - (t_n-\\bar{t})]^2}$</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>    <span class="n">centred_pred</span> <span class="o">=</span> <span class="n">predicted</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">predicted</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>    <span class="n">centred_true</span> <span class="o">=</span> <span class="n">true</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">true</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="n">cmse</span> <span class="o">=</span> <span class="n">centred_pred</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">centred_true</span><span class="p">)</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">squared</span><span class="p">:</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>        <span class="k">return</span> <span class="n">cmse</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">cmse</span><span class="p">)</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="k">def</span> <span class="nf">mean_bias_error</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">    Calculates the mean bias error between pred and true</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">    $\\frac{1}{N}\\sum_{n=1}^{N}[p_n - t_n]$</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>    <span class="k">return</span> <span class="n">predicted</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">true</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="k">def</span> <span class="nf">ubrmse</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">    Calculates the unbiased root mean squared error between pred and true</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">    $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n - t_n)^2] - (\\frac{1}{N}\\sum_\</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="sd">{n=1}^{N}[p_n - t_n])^2}$</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>    <span class="n">mse</span> <span class="o">=</span> <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    <span class="n">bias</span> <span class="o">=</span> <span class="n">mean_bias_error</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span> <span class="o">-</span> <span class="p">(</span><span class="n">bias</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="k">def</span> <span class="nf">ref_mean</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">    Calculates mean of reference measurements, useful for</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="sd">    normalising errors</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="k">def</span> <span class="nf">ref_sd</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">    Calculates standard deviation of reference measurements, useful for</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">    normalising errors</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a><span class="k">def</span> <span class="nf">ref_range</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="sd">    Calculates range of reference measurements, useful for</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="sd">    normalising errors</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">true</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="k">def</span> <span class="nf">ref_iqr</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">    Calculates interquartile range of reference measurements, useful for</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">    normalising errors</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span> <span class="o">-</span> <span class="n">true</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span class="k">class</span> <span class="nc">Results</span><span class="p">:</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a><span class="sd">    Determine performance of models using a range of metrics.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a><span class="sd">    Used to compare a range of different models that were fitted in the</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a><span class="sd">    Calibrate class in `coefficients.py`.</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>        <span class="n">x_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>        <span class="n">y_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>        <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>        <span class="n">models</span><span class="p">:</span> <span class="n">CoefficientPipelineDict</span><span class="p">,</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>        <span class="n">errors</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>    <span class="p">):</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">        Initialises the class</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="sd">        Parameters</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span class="sd">        ----------</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">        x_data : pd.DataFrame</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">            Dependent measurements</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="sd">        y_data : pd.DataFrame</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span class="sd">            Independent measurements</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="sd">        target : str</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="sd">            Column name of the primary feature to use in calibration, must be</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a><span class="sd">            the name of a column in both `x_data` and `y_data`.</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a><span class="sd">        models : CoefficientPipelineDict</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a><span class="sd">            The calibrated models.</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a><span class="sd">        errors : pd.DataFrame</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a><span class="sd">            Any previously calculated errors. Useful if you need to skip over</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a><span class="sd">            previous calculations.</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="k">if</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x_data</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>            <span class="n">not_in_x</span> <span class="o">=</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x_data</span><span class="o">.</span><span class="n">columns</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>            <span class="n">not_in_y</span> <span class="o">=</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_data</span><span class="o">.</span><span class="n">columns</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2"> not in </span><span class="si">{</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_x</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39; and &#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_x</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">not_in_y</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_y</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>            <span class="p">)</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">x_data</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dependent measurements&quot;&quot;&quot;</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">y_data</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Independent Measurements&quot;&quot;&quot;</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">target</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Column name of primary feature to use in calibration&quot;&quot;&quot;</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">models</span><span class="p">:</span> <span class="n">CoefficientPipelineDict</span> <span class="o">=</span> <span class="n">models</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="sd">        They are stored in a nested structure as</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="sd">        follows:</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a><span class="sd">        1. Primary Key, name of the technique (e.g Lasso Regression).</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="sd">        2. Scaling technique (e.g Yeo-Johnson Transform).</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a><span class="sd">        3. Combination of variables used or `target` if calibration is</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span class="sd">        univariate (e.g &quot;`target` + a + b).</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="sd">        4. Fold, which fold was used excluded from the calibration. If data</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a><span class="sd">        if 5-fold cross validated, a key of 4 indicates the data was</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a><span class="sd">        trained on folds 0-3.</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a><span class="sd">        ```mermaid</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a><span class="sd">            stateDiagram-v2</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="sd">              models --&gt; Technique</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="sd">              state Technique {</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span class="sd">                [*] --&gt; Scaling</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a><span class="sd">                [*]: The calibration technique used</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a><span class="sd">                [*]: (e.g &quot;Lasso Regression&quot;)</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a><span class="sd">                state Scaling {</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a><span class="sd">                  [*] --&gt; Variables</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="sd">                  [*]: The scaling technique used</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="sd">                  [*]: (e.g &quot;Yeo-Johnson Transform&quot;)</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span class="sd">                  state Variables {</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a><span class="sd">                    [*] : The combination of variables used</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a><span class="sd">                    [*] : (e.g &quot;x + a + b&quot;)</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span class="sd">                    [*] --&gt; Fold</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span class="sd">                    state Fold {</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a><span class="sd">                     [*] : Which fold was excluded from training data</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a><span class="sd">                     [*] : (e.g 4 indicates folds 0-3 were used to train)</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a><span class="sd">                    }</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a><span class="sd">                  }</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a><span class="sd">                }</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a><span class="sd">              }</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a><span class="sd">        ```</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">errors</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">        Results of error metric valculations. Index increases sequentially</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a><span class="sd">        by 1, columns contain the technique, scaling method, variables and</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">        fold for each row. It also contains a column for each metric.</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a><span class="sd">        ||Technique|Scaling Method|Variables|Fold|Explained Variance Score|...\</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">        |Mean Absolute Percentage Error|</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="sd">        |---|---|---|---|---|---|---|---|</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="sd">        |0|Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a><span class="sd">        |1|Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="sd">        |...|...|...|...|...|...|...|...|</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span class="sd">        |55|Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cached_error_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>    <span class="k">def</span> <span class="nf">_sklearn_error_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cached_error_length</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>            <span class="k">if</span> <span class="p">(</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>                    <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">,</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Validation&quot;</span><span class="p">,</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>                    <span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>                <span class="p">]</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>                <span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">name</span><span class="p">]</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>                <span class="o">.</span><span class="n">notna</span><span class="p">()</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>                <span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="p">):</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>                <span class="k">pass</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>                <span class="k">raise</span> <span class="ne">KeyError</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>            <span class="n">true</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">][</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Validation&quot;</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>            <span class="p">]</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>            <span class="n">pred_raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">true</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">]</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>            <span class="n">predicted</span> <span class="o">=</span> <span class="n">pred_raw</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>            <span class="n">error</span> <span class="o">=</span> <span class="n">err</span><span class="p">(</span><span class="n">true</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="n">predicted</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>            <span class="k">if</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Scaling Method&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;All&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">true</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>        <span class="n">true</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">][</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Validation&quot;</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>        <span class="p">]</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>        <span class="k">for</span> <span class="n">technique</span><span class="p">,</span> <span class="n">scaling_techniques</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">technique</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>            <span class="k">for</span> <span class="n">scaling_technique</span><span class="p">,</span> <span class="n">var_combos</span> <span class="ow">in</span> <span class="n">scaling_techniques</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scaling_technique</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>                <span class="k">for</span> <span class="nb">vars</span><span class="p">,</span> <span class="n">folds</span> <span class="ow">in</span> <span class="n">var_combos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">][</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>                        <span class="nb">vars</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>                    <span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">true</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>                        <span class="k">if</span> <span class="p">(</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>                                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">technique</span><span class="p">)</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>                                <span class="o">&amp;</span> <span class="p">(</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>                                    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Scaling Method&quot;</span><span class="p">]</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>                                    <span class="o">==</span> <span class="n">scaling_technique</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>                                <span class="p">)</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>                                <span class="o">&amp;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="nb">vars</span><span class="p">)</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>                            <span class="p">]</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>                            <span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">name</span><span class="p">]</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>                            <span class="o">.</span><span class="n">notna</span><span class="p">()</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>                            <span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>                        <span class="p">):</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>                            <span class="k">continue</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>                        <span class="k">pass</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>                    <span class="k">for</span> <span class="n">fold</span><span class="p">,</span> <span class="n">pipe</span> <span class="ow">in</span> <span class="n">folds</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>                        <span class="k">if</span> <span class="p">(</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>                            <span class="n">fold</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>                            <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>                                <span class="n">scaling_technique</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>                            <span class="p">][</span><span class="nb">vars</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>                        <span class="p">):</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>                            <span class="n">pred_raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>                                <span class="n">true</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="nb">vars</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">)</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>                            <span class="p">]</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>                            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">Pipeline</span><span class="p">):</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>                                <span class="n">pipe_to_use</span> <span class="o">=</span> <span class="n">pipe</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>                            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>                                <span class="k">with</span> <span class="n">pipe</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pkl</span><span class="p">:</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>                                    <span class="n">pipe_to_use</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">pkl</span><span class="p">)</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>                                <span class="k">continue</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>                            <span class="n">pred_no_ind</span> <span class="o">=</span> <span class="n">pipe_to_use</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">pred_raw</span><span class="p">)</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">][</span><span class="nb">vars</span><span class="p">][</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>                                <span class="n">fold</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>                            <span class="p">]</span> <span class="o">=</span> <span class="n">pred_no_ind</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>                        <span class="k">try</span><span class="p">:</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>                            <span class="n">predicted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>                                <span class="n">scaling_technique</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>                            <span class="p">][</span><span class="nb">vars</span><span class="p">][</span><span class="n">fold</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>                            <span class="n">error</span> <span class="o">=</span> <span class="n">err</span><span class="p">(</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>                                <span class="n">true</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="n">predicted</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>                            <span class="p">)</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>                        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>                            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>                                <span class="n">technique</span><span class="p">,</span> <span class="n">scaling_technique</span><span class="p">,</span> <span class="nb">vars</span><span class="p">,</span> <span class="n">fold</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>                            <span class="p">)</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>                            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>                                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>                            <span class="n">error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>                            <span class="n">predicted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>                        <span class="k">if</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">technique</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>                                <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Scaling Method&quot;</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>                            <span class="p">]</span> <span class="o">=</span> <span class="n">scaling_technique</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">vars</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fold</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">true</span><span class="p">[</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>                                <span class="n">predicted</span><span class="o">.</span><span class="n">index</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>                            <span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>                        <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>                    <span class="k">if</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">technique</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>                            <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Scaling Method&quot;</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>                        <span class="p">]</span> <span class="o">=</span> <span class="n">scaling_technique</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">vars</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;All&quot;</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">true</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>                    <span class="n">predicted</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">][</span><span class="nb">vars</span><span class="p">]</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>                        <span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>                        <span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>                    <span class="p">)</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>                    <span class="n">error</span> <span class="o">=</span> <span class="n">err</span><span class="p">(</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">],</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>                        <span class="n">predicted</span><span class="p">,</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>                        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>                    <span class="p">)</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>                    <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>    <span class="k">def</span> <span class="nf">explained_variance_score</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the explained variance score between the true values (y)</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a><span class="sd">sklearn.metrics.explained_variance_score\</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a><span class="sd">        )</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">explained_variance_score</span><span class="p">,</span> <span class="s2">&quot;Explained Variance Score&quot;</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>        <span class="p">)</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the max error between the true values (y)</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a><span class="sd">sklearn.metrics.max_error\</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a><span class="sd">        )</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">met</span><span class="o">.</span><span class="n">max_error</span><span class="p">,</span> <span class="s2">&quot;Max Error&quot;</span><span class="p">)</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>    <span class="k">def</span> <span class="nf">mean_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean absolute error between the true values (y)</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a><span class="sd">sklearn.metrics.mean_absolute_error\</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="sd">        )</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_absolute_error</span><span class="p">,</span> <span class="s2">&quot;Mean Absolute Error&quot;</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>        <span class="p">)</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>    <span class="k">def</span> <span class="nf">root_mean_squared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the root mean squared error between the true values (y)</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a><span class="sd">sklearn.metrics.mean_squared_error\</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a><span class="sd">        )</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_error</span><span class="p">,</span> <span class="s2">&quot;Root Mean Squared Error&quot;</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>        <span class="p">)</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">root_mean_squared_log</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the root mean squared log error between the true values</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a><span class="sd">        (y) and predicted y (x) [^tech].</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a><span class="sd">sklearn.metrics.mean_squared_log_error\</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a><span class="sd">        )</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_log_error</span><span class="p">,</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>            <span class="s2">&quot;Root Mean Squared Log Error&quot;</span><span class="p">,</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>            <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>        <span class="p">)</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>    <span class="k">def</span> <span class="nf">median_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the median absolute error between the true values (y)</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">sklearn.metrics.median_absolute_error\</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">        )</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">median_absolute_error</span><span class="p">,</span> <span class="s2">&quot;Median Absolute Error&quot;</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>        <span class="p">)</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>    <span class="k">def</span> <span class="nf">mean_absolute_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean absolute percentage error between the true</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a><span class="sd">        values (y) and predicted y (x) [^tech].</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a><span class="sd">sklearn.metrics.mean_absolute_percentage_error\</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a><span class="sd">        )</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_absolute_percentage_error</span><span class="p">,</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>            <span class="s2">&quot;Mean Absolute Percentage Error&quot;</span><span class="p">,</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>        <span class="p">)</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>    <span class="k">def</span> <span class="nf">r2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the r2 between the true values (y)</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a><span class="sd">sklearn.metrics.r2_score\</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a><span class="sd">        )</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">met</span><span class="o">.</span><span class="n">r2_score</span><span class="p">,</span> <span class="s2">&quot;r2&quot;</span><span class="p">)</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>    <span class="k">def</span> <span class="nf">mean_poisson_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean poisson deviance between the true values (y)</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a><span class="sd">sklearn.metrics.mean_poisson_deviance\</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a><span class="sd">        )</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_poisson_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Poisson Deviance&quot;</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>        <span class="p">)</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>    <span class="k">def</span> <span class="nf">mean_gamma_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean gamma deviance between the true values (y)</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a><span class="sd">sklearn.metrics.mean_gamma_deviance\</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a><span class="sd">        )</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_gamma_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Gamma Deviance&quot;</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>        <span class="p">)</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>    <span class="k">def</span> <span class="nf">mean_tweedie_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean tweedie deviance between the true values (y)</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a><span class="sd">sklearn.metrics.mean_tweedie_deviance\</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a><span class="sd">        )</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_tweedie_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Tweedie Deviance&quot;</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>        <span class="p">)</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>    <span class="k">def</span> <span class="nf">mean_pinball_loss</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean pinball loss between the true values (y)</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a><span class="sd">        predicted y (x) [^tech].</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated\</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a><span class="sd">/sklearn.metrics.mean_pinball_loss\</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a><span class="sd">        )</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_pinball_loss</span><span class="p">,</span> <span class="s2">&quot;Mean Pinball Deviance&quot;</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>        <span class="p">)</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>    <span class="k">def</span> <span class="nf">centered_rmse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a><span class="sd">        Calculate the centered root mean squared error between pred and true</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a><span class="sd">        $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n-\\bar{p}) - \</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a><span class="sd">(t_n-\\bar{t})]^2}$</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">crmse</span><span class="p">,</span> <span class="s2">&quot;Centered Root Mean Squared Error&quot;</span><span class="p">)</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>    <span class="k">def</span> <span class="nf">unbiased_rmse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a><span class="sd">        Calculates the unbiased root mean squared error between pred and true</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a><span class="sd">        $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n - t_n)^2] - (\\frac{1}{N}\\\</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a><span class="sd">sum_{n=1}^{N}[p_n - t_n])^2}$</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ubrmse</span><span class="p">,</span> <span class="s2">&quot;Unbiased Root Mean Squared Error&quot;</span><span class="p">)</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>    <span class="k">def</span> <span class="nf">mbe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a><span class="sd">        Calculates the mean bias error between pred and true</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a><span class="sd">        $\\frac{1}{N}\\sum_{n=1}^{N}[p_n - t_n]$</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">mean_bias_error</span><span class="p">,</span> <span class="s2">&quot;Mean Bias Error&quot;</span><span class="p">)</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>    <span class="k">def</span> <span class="nf">ref_iqr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a><span class="sd">        Calculates interquartile range of reference measurements, useful for</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a><span class="sd">        normalising errors</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_iqr</span><span class="p">,</span> <span class="s2">&quot;Reference Interquartile Range&quot;</span><span class="p">)</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>    <span class="k">def</span> <span class="nf">ref_mean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a><span class="sd">        Calculates mean of reference measurements, useful for</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a><span class="sd">        normalising errors</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_mean</span><span class="p">,</span> <span class="s2">&quot;Reference Mean&quot;</span><span class="p">)</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>    <span class="k">def</span> <span class="nf">ref_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a><span class="sd">        Calculates range of reference measurements, useful for</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a><span class="sd">        normalising errors</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_range</span><span class="p">,</span> <span class="s2">&quot;Reference Range&quot;</span><span class="p">)</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>    <span class="k">def</span> <span class="nf">ref_sd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a><span class="sd">        Calculates standard deviation of reference measurements, useful for</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a><span class="sd">        normalising errors</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_sd</span><span class="p">,</span> <span class="s2">&quot;Reference Standard Deviation&quot;</span><span class="p">)</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>    <span class="k">def</span> <span class="nf">return_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a><span class="sd">        Returns all calculated errors in dataframe format</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a><span class="sd">        Initially the error dataframe has the following structure:</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a><span class="sd">        ||Technique|Scaling Method|Variables|Fold|Explained Variance Score|\</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a><span class="sd">        ...|Mean Absolute Percentage Error|</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a><span class="sd">        |---|---|---|---|---|---|---|---|</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a><span class="sd">        |0|Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a><span class="sd">        |1|Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a><span class="sd">        |...|...|...|...|...|...|...|...|</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a><span class="sd">        |55|Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a><span class="sd">        However, before returning the data, a new MultiIndex is built using</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a><span class="sd">        the Technique, Scaling Method, Variables and Fold columns. This</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a><span class="sd">        allows easy comparison of the different techniques by grouping on one</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="sd">        or multiple levels of the MultiIndex.</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a><span class="sd">        Returns</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a><span class="sd">        -------</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a><span class="sd">        pd.DataFrame</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a><span class="sd">            Results dataframe in the following format:</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a><span class="sd">            |||||Explained Variance Score|\</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a><span class="sd">            ...|Mean Absolute Percentage Error|</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a><span class="sd">            |---|---|---|---|---|---|---|</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a><span class="sd">            |Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a><span class="sd">            |Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a><span class="sd">            |...|...|...|...|...|...|...|</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a><span class="sd">            |Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span>
</span></pre></div>


            </section>
                <section id="CoefficientPipelineDict">
                    <div class="attr variable">
            <span class="name">CoefficientPipelineDict</span><span class="annotation">: TypeAlias</span>        =
<span class="default_value">dict[str, dict[str, dict[str, dict[int, typing.Union[pathlib.Path, sklearn.pipeline.Pipeline]]]]]</span>

        
    </div>
    <a class="headerlink" href="#CoefficientPipelineDict"></a>
    
            <div class="docstring"><p>Type alias for the nested dictionaries that the models are stored in</p>
</div>


                </section>
                <section id="logger">
                    <div class="attr variable">
            <span class="name">logger</span>        =
<span class="default_value">&lt;Logger __main__.calidhayte.results (WARNING)&gt;</span>

        
    </div>
    <a class="headerlink" href="#logger"></a>
    
    

                </section>
                <section id="crmse">
                            <input id="crmse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">crmse</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">true</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">predicted</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">squared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="crmse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#crmse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="crmse-35"><a href="#crmse-35"><span class="linenos">35</span></a><span class="k">def</span> <span class="nf">crmse</span><span class="p">(</span>
</span><span id="crmse-36"><a href="#crmse-36"><span class="linenos">36</span></a>    <span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">squared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="crmse-37"><a href="#crmse-37"><span class="linenos">37</span></a><span class="p">):</span>
</span><span id="crmse-38"><a href="#crmse-38"><span class="linenos">38</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="crmse-39"><a href="#crmse-39"><span class="linenos">39</span></a><span class="sd">    Calculate the centered root mean squared error between pred and true</span>
</span><span id="crmse-40"><a href="#crmse-40"><span class="linenos">40</span></a>
</span><span id="crmse-41"><a href="#crmse-41"><span class="linenos">41</span></a><span class="sd">    $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n-\\bar{p}) - (t_n-\\bar{t})]^2}$</span>
</span><span id="crmse-42"><a href="#crmse-42"><span class="linenos">42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="crmse-43"><a href="#crmse-43"><span class="linenos">43</span></a>    <span class="n">centred_pred</span> <span class="o">=</span> <span class="n">predicted</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">predicted</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span><span id="crmse-44"><a href="#crmse-44"><span class="linenos">44</span></a>    <span class="n">centred_true</span> <span class="o">=</span> <span class="n">true</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">true</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</span><span id="crmse-45"><a href="#crmse-45"><span class="linenos">45</span></a>    <span class="n">cmse</span> <span class="o">=</span> <span class="n">centred_pred</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">centred_true</span><span class="p">)</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span><span id="crmse-46"><a href="#crmse-46"><span class="linenos">46</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">squared</span><span class="p">:</span>
</span><span id="crmse-47"><a href="#crmse-47"><span class="linenos">47</span></a>        <span class="k">return</span> <span class="n">cmse</span>
</span><span id="crmse-48"><a href="#crmse-48"><span class="linenos">48</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="crmse-49"><a href="#crmse-49"><span class="linenos">49</span></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">cmse</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the centered root mean squared error between pred and true</p>

<p>$\sqrt{\frac{1}{N}\sum_{n=1}^{N}[(p_n-\bar{p}) - (t_n-\bar{t})]^2}$</p>
</div>


                </section>
                <section id="mean_bias_error">
                            <input id="mean_bias_error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mean_bias_error</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">true</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">predicted</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="mean_bias_error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mean_bias_error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mean_bias_error-52"><a href="#mean_bias_error-52"><span class="linenos">52</span></a><span class="k">def</span> <span class="nf">mean_bias_error</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="mean_bias_error-53"><a href="#mean_bias_error-53"><span class="linenos">53</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mean_bias_error-54"><a href="#mean_bias_error-54"><span class="linenos">54</span></a><span class="sd">    Calculates the mean bias error between pred and true</span>
</span><span id="mean_bias_error-55"><a href="#mean_bias_error-55"><span class="linenos">55</span></a>
</span><span id="mean_bias_error-56"><a href="#mean_bias_error-56"><span class="linenos">56</span></a><span class="sd">    $\\frac{1}{N}\\sum_{n=1}^{N}[p_n - t_n]$</span>
</span><span id="mean_bias_error-57"><a href="#mean_bias_error-57"><span class="linenos">57</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mean_bias_error-58"><a href="#mean_bias_error-58"><span class="linenos">58</span></a>    <span class="k">return</span> <span class="n">predicted</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">true</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Calculates the mean bias error between pred and true</p>

<p>$\frac{1}{N}\sum_{n=1}^{N}[p_n - t_n]$</p>
</div>


                </section>
                <section id="ubrmse">
                            <input id="ubrmse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ubrmse</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">true</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">predicted</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ubrmse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ubrmse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ubrmse-61"><a href="#ubrmse-61"><span class="linenos">61</span></a><span class="k">def</span> <span class="nf">ubrmse</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">predicted</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ubrmse-62"><a href="#ubrmse-62"><span class="linenos">62</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ubrmse-63"><a href="#ubrmse-63"><span class="linenos">63</span></a><span class="sd">    Calculates the unbiased root mean squared error between pred and true</span>
</span><span id="ubrmse-64"><a href="#ubrmse-64"><span class="linenos">64</span></a>
</span><span id="ubrmse-65"><a href="#ubrmse-65"><span class="linenos">65</span></a><span class="sd">    $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n - t_n)^2] - (\\frac{1}{N}\\sum_\</span>
</span><span id="ubrmse-66"><a href="#ubrmse-66"><span class="linenos">66</span></a><span class="sd">{n=1}^{N}[p_n - t_n])^2}$</span>
</span><span id="ubrmse-67"><a href="#ubrmse-67"><span class="linenos">67</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ubrmse-68"><a href="#ubrmse-68"><span class="linenos">68</span></a>    <span class="n">mse</span> <span class="o">=</span> <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>
</span><span id="ubrmse-69"><a href="#ubrmse-69"><span class="linenos">69</span></a>    <span class="n">bias</span> <span class="o">=</span> <span class="n">mean_bias_error</span><span class="p">(</span><span class="n">true</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>
</span><span id="ubrmse-70"><a href="#ubrmse-70"><span class="linenos">70</span></a>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span> <span class="o">-</span> <span class="p">(</span><span class="n">bias</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Calculates the unbiased root mean squared error between pred and true</p>

<p>$\sqrt{\frac{1}{N}\sum_{n=1}^{N}[(p_n - t_n)^2] - (\frac{1}{N}\sum_{n=1}^{N}[p_n - t_n])^2}$</p>
</div>


                </section>
                <section id="ref_mean">
                            <input id="ref_mean-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_mean</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">true</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">_</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ref_mean-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ref_mean"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ref_mean-73"><a href="#ref_mean-73"><span class="linenos">73</span></a><span class="k">def</span> <span class="nf">ref_mean</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ref_mean-74"><a href="#ref_mean-74"><span class="linenos">74</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ref_mean-75"><a href="#ref_mean-75"><span class="linenos">75</span></a><span class="sd">    Calculates mean of reference measurements, useful for</span>
</span><span id="ref_mean-76"><a href="#ref_mean-76"><span class="linenos">76</span></a><span class="sd">    normalising errors</span>
</span><span id="ref_mean-77"><a href="#ref_mean-77"><span class="linenos">77</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ref_mean-78"><a href="#ref_mean-78"><span class="linenos">78</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Calculates mean of reference measurements, useful for
normalising errors</p>
</div>


                </section>
                <section id="ref_sd">
                            <input id="ref_sd-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_sd</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">true</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">_</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ref_sd-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ref_sd"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ref_sd-81"><a href="#ref_sd-81"><span class="linenos">81</span></a><span class="k">def</span> <span class="nf">ref_sd</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ref_sd-82"><a href="#ref_sd-82"><span class="linenos">82</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ref_sd-83"><a href="#ref_sd-83"><span class="linenos">83</span></a><span class="sd">    Calculates standard deviation of reference measurements, useful for</span>
</span><span id="ref_sd-84"><a href="#ref_sd-84"><span class="linenos">84</span></a><span class="sd">    normalising errors</span>
</span><span id="ref_sd-85"><a href="#ref_sd-85"><span class="linenos">85</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ref_sd-86"><a href="#ref_sd-86"><span class="linenos">86</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Calculates standard deviation of reference measurements, useful for
normalising errors</p>
</div>


                </section>
                <section id="ref_range">
                            <input id="ref_range-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_range</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">true</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">_</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ref_range-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ref_range"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ref_range-89"><a href="#ref_range-89"><span class="linenos">89</span></a><span class="k">def</span> <span class="nf">ref_range</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ref_range-90"><a href="#ref_range-90"><span class="linenos">90</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ref_range-91"><a href="#ref_range-91"><span class="linenos">91</span></a><span class="sd">    Calculates range of reference measurements, useful for</span>
</span><span id="ref_range-92"><a href="#ref_range-92"><span class="linenos">92</span></a><span class="sd">    normalising errors</span>
</span><span id="ref_range-93"><a href="#ref_range-93"><span class="linenos">93</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ref_range-94"><a href="#ref_range-94"><span class="linenos">94</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">true</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Calculates range of reference measurements, useful for
normalising errors</p>
</div>


                </section>
                <section id="ref_iqr">
                            <input id="ref_iqr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_iqr</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">true</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="n">_</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">series</span><span class="o">.</span><span class="n">Series</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ref_iqr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ref_iqr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ref_iqr-97"><a href="#ref_iqr-97"><span class="linenos"> 97</span></a><span class="k">def</span> <span class="nf">ref_iqr</span><span class="p">(</span><span class="n">true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="ref_iqr-98"><a href="#ref_iqr-98"><span class="linenos"> 98</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ref_iqr-99"><a href="#ref_iqr-99"><span class="linenos"> 99</span></a><span class="sd">    Calculates interquartile range of reference measurements, useful for</span>
</span><span id="ref_iqr-100"><a href="#ref_iqr-100"><span class="linenos">100</span></a><span class="sd">    normalising errors</span>
</span><span id="ref_iqr-101"><a href="#ref_iqr-101"><span class="linenos">101</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ref_iqr-102"><a href="#ref_iqr-102"><span class="linenos">102</span></a>    <span class="k">return</span> <span class="n">true</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span> <span class="o">-</span> <span class="n">true</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates interquartile range of reference measurements, useful for
normalising errors</p>
</div>


                </section>
                <section id="Results">
                            <input id="Results-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Results</span>:

                <label class="view-source-button" for="Results-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results-105"><a href="#Results-105"><span class="linenos">105</span></a><span class="k">class</span> <span class="nc">Results</span><span class="p">:</span>
</span><span id="Results-106"><a href="#Results-106"><span class="linenos">106</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-107"><a href="#Results-107"><span class="linenos">107</span></a><span class="sd">    Determine performance of models using a range of metrics.</span>
</span><span id="Results-108"><a href="#Results-108"><span class="linenos">108</span></a>
</span><span id="Results-109"><a href="#Results-109"><span class="linenos">109</span></a><span class="sd">    Used to compare a range of different models that were fitted in the</span>
</span><span id="Results-110"><a href="#Results-110"><span class="linenos">110</span></a><span class="sd">    Calibrate class in `coefficients.py`.</span>
</span><span id="Results-111"><a href="#Results-111"><span class="linenos">111</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Results-112"><a href="#Results-112"><span class="linenos">112</span></a>
</span><span id="Results-113"><a href="#Results-113"><span class="linenos">113</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Results-114"><a href="#Results-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Results-115"><a href="#Results-115"><span class="linenos">115</span></a>        <span class="n">x_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="Results-116"><a href="#Results-116"><span class="linenos">116</span></a>        <span class="n">y_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="Results-117"><a href="#Results-117"><span class="linenos">117</span></a>        <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Results-118"><a href="#Results-118"><span class="linenos">118</span></a>        <span class="n">models</span><span class="p">:</span> <span class="n">CoefficientPipelineDict</span><span class="p">,</span>
</span><span id="Results-119"><a href="#Results-119"><span class="linenos">119</span></a>        <span class="n">errors</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span>
</span><span id="Results-120"><a href="#Results-120"><span class="linenos">120</span></a>    <span class="p">):</span>
</span><span id="Results-121"><a href="#Results-121"><span class="linenos">121</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-122"><a href="#Results-122"><span class="linenos">122</span></a><span class="sd">        Initialises the class</span>
</span><span id="Results-123"><a href="#Results-123"><span class="linenos">123</span></a>
</span><span id="Results-124"><a href="#Results-124"><span class="linenos">124</span></a><span class="sd">        Parameters</span>
</span><span id="Results-125"><a href="#Results-125"><span class="linenos">125</span></a><span class="sd">        ----------</span>
</span><span id="Results-126"><a href="#Results-126"><span class="linenos">126</span></a><span class="sd">        x_data : pd.DataFrame</span>
</span><span id="Results-127"><a href="#Results-127"><span class="linenos">127</span></a><span class="sd">            Dependent measurements</span>
</span><span id="Results-128"><a href="#Results-128"><span class="linenos">128</span></a><span class="sd">        y_data : pd.DataFrame</span>
</span><span id="Results-129"><a href="#Results-129"><span class="linenos">129</span></a><span class="sd">            Independent measurements</span>
</span><span id="Results-130"><a href="#Results-130"><span class="linenos">130</span></a><span class="sd">        target : str</span>
</span><span id="Results-131"><a href="#Results-131"><span class="linenos">131</span></a><span class="sd">            Column name of the primary feature to use in calibration, must be</span>
</span><span id="Results-132"><a href="#Results-132"><span class="linenos">132</span></a><span class="sd">            the name of a column in both `x_data` and `y_data`.</span>
</span><span id="Results-133"><a href="#Results-133"><span class="linenos">133</span></a><span class="sd">        models : CoefficientPipelineDict</span>
</span><span id="Results-134"><a href="#Results-134"><span class="linenos">134</span></a><span class="sd">            The calibrated models.</span>
</span><span id="Results-135"><a href="#Results-135"><span class="linenos">135</span></a><span class="sd">        errors : pd.DataFrame</span>
</span><span id="Results-136"><a href="#Results-136"><span class="linenos">136</span></a><span class="sd">            Any previously calculated errors. Useful if you need to skip over</span>
</span><span id="Results-137"><a href="#Results-137"><span class="linenos">137</span></a><span class="sd">            previous calculations.</span>
</span><span id="Results-138"><a href="#Results-138"><span class="linenos">138</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-139"><a href="#Results-139"><span class="linenos">139</span></a>        <span class="k">if</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x_data</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
</span><span id="Results-140"><a href="#Results-140"><span class="linenos">140</span></a>            <span class="n">not_in_x</span> <span class="o">=</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x_data</span><span class="o">.</span><span class="n">columns</span>
</span><span id="Results-141"><a href="#Results-141"><span class="linenos">141</span></a>            <span class="n">not_in_y</span> <span class="o">=</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_data</span><span class="o">.</span><span class="n">columns</span>
</span><span id="Results-142"><a href="#Results-142"><span class="linenos">142</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="Results-143"><a href="#Results-143"><span class="linenos">143</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2"> not in </span><span class="si">{</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_x</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Results-144"><a href="#Results-144"><span class="linenos">144</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39; and &#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_x</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">not_in_y</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Results-145"><a href="#Results-145"><span class="linenos">145</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_y</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Results-146"><a href="#Results-146"><span class="linenos">146</span></a>            <span class="p">)</span>
</span><span id="Results-147"><a href="#Results-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">x_data</span>
</span><span id="Results-148"><a href="#Results-148"><span class="linenos">148</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dependent measurements&quot;&quot;&quot;</span>
</span><span id="Results-149"><a href="#Results-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">y_data</span>
</span><span id="Results-150"><a href="#Results-150"><span class="linenos">150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Independent Measurements&quot;&quot;&quot;</span>
</span><span id="Results-151"><a href="#Results-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">target</span>
</span><span id="Results-152"><a href="#Results-152"><span class="linenos">152</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Column name of primary feature to use in calibration&quot;&quot;&quot;</span>
</span><span id="Results-153"><a href="#Results-153"><span class="linenos">153</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">models</span><span class="p">:</span> <span class="n">CoefficientPipelineDict</span> <span class="o">=</span> <span class="n">models</span>
</span><span id="Results-154"><a href="#Results-154"><span class="linenos">154</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-155"><a href="#Results-155"><span class="linenos">155</span></a><span class="sd">        They are stored in a nested structure as</span>
</span><span id="Results-156"><a href="#Results-156"><span class="linenos">156</span></a><span class="sd">        follows:</span>
</span><span id="Results-157"><a href="#Results-157"><span class="linenos">157</span></a><span class="sd">        1. Primary Key, name of the technique (e.g Lasso Regression).</span>
</span><span id="Results-158"><a href="#Results-158"><span class="linenos">158</span></a><span class="sd">        2. Scaling technique (e.g Yeo-Johnson Transform).</span>
</span><span id="Results-159"><a href="#Results-159"><span class="linenos">159</span></a><span class="sd">        3. Combination of variables used or `target` if calibration is</span>
</span><span id="Results-160"><a href="#Results-160"><span class="linenos">160</span></a><span class="sd">        univariate (e.g &quot;`target` + a + b).</span>
</span><span id="Results-161"><a href="#Results-161"><span class="linenos">161</span></a><span class="sd">        4. Fold, which fold was used excluded from the calibration. If data</span>
</span><span id="Results-162"><a href="#Results-162"><span class="linenos">162</span></a><span class="sd">        if 5-fold cross validated, a key of 4 indicates the data was</span>
</span><span id="Results-163"><a href="#Results-163"><span class="linenos">163</span></a><span class="sd">        trained on folds 0-3.</span>
</span><span id="Results-164"><a href="#Results-164"><span class="linenos">164</span></a>
</span><span id="Results-165"><a href="#Results-165"><span class="linenos">165</span></a><span class="sd">        ```mermaid</span>
</span><span id="Results-166"><a href="#Results-166"><span class="linenos">166</span></a><span class="sd">            stateDiagram-v2</span>
</span><span id="Results-167"><a href="#Results-167"><span class="linenos">167</span></a><span class="sd">              models --&gt; Technique</span>
</span><span id="Results-168"><a href="#Results-168"><span class="linenos">168</span></a><span class="sd">              state Technique {</span>
</span><span id="Results-169"><a href="#Results-169"><span class="linenos">169</span></a><span class="sd">                [*] --&gt; Scaling</span>
</span><span id="Results-170"><a href="#Results-170"><span class="linenos">170</span></a><span class="sd">                [*]: The calibration technique used</span>
</span><span id="Results-171"><a href="#Results-171"><span class="linenos">171</span></a><span class="sd">                [*]: (e.g &quot;Lasso Regression&quot;)</span>
</span><span id="Results-172"><a href="#Results-172"><span class="linenos">172</span></a><span class="sd">                state Scaling {</span>
</span><span id="Results-173"><a href="#Results-173"><span class="linenos">173</span></a><span class="sd">                  [*] --&gt; Variables</span>
</span><span id="Results-174"><a href="#Results-174"><span class="linenos">174</span></a><span class="sd">                  [*]: The scaling technique used</span>
</span><span id="Results-175"><a href="#Results-175"><span class="linenos">175</span></a><span class="sd">                  [*]: (e.g &quot;Yeo-Johnson Transform&quot;)</span>
</span><span id="Results-176"><a href="#Results-176"><span class="linenos">176</span></a><span class="sd">                  state Variables {</span>
</span><span id="Results-177"><a href="#Results-177"><span class="linenos">177</span></a><span class="sd">                    [*] : The combination of variables used</span>
</span><span id="Results-178"><a href="#Results-178"><span class="linenos">178</span></a><span class="sd">                    [*] : (e.g &quot;x + a + b&quot;)</span>
</span><span id="Results-179"><a href="#Results-179"><span class="linenos">179</span></a><span class="sd">                    [*] --&gt; Fold</span>
</span><span id="Results-180"><a href="#Results-180"><span class="linenos">180</span></a><span class="sd">                    state Fold {</span>
</span><span id="Results-181"><a href="#Results-181"><span class="linenos">181</span></a><span class="sd">                     [*] : Which fold was excluded from training data</span>
</span><span id="Results-182"><a href="#Results-182"><span class="linenos">182</span></a><span class="sd">                     [*] : (e.g 4 indicates folds 0-3 were used to train)</span>
</span><span id="Results-183"><a href="#Results-183"><span class="linenos">183</span></a><span class="sd">                    }</span>
</span><span id="Results-184"><a href="#Results-184"><span class="linenos">184</span></a><span class="sd">                  }</span>
</span><span id="Results-185"><a href="#Results-185"><span class="linenos">185</span></a><span class="sd">                }</span>
</span><span id="Results-186"><a href="#Results-186"><span class="linenos">186</span></a><span class="sd">              }</span>
</span><span id="Results-187"><a href="#Results-187"><span class="linenos">187</span></a><span class="sd">        ```</span>
</span><span id="Results-188"><a href="#Results-188"><span class="linenos">188</span></a>
</span><span id="Results-189"><a href="#Results-189"><span class="linenos">189</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-190"><a href="#Results-190"><span class="linenos">190</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">errors</span>
</span><span id="Results-191"><a href="#Results-191"><span class="linenos">191</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-192"><a href="#Results-192"><span class="linenos">192</span></a><span class="sd">        Results of error metric valculations. Index increases sequentially</span>
</span><span id="Results-193"><a href="#Results-193"><span class="linenos">193</span></a><span class="sd">        by 1, columns contain the technique, scaling method, variables and</span>
</span><span id="Results-194"><a href="#Results-194"><span class="linenos">194</span></a><span class="sd">        fold for each row. It also contains a column for each metric.</span>
</span><span id="Results-195"><a href="#Results-195"><span class="linenos">195</span></a>
</span><span id="Results-196"><a href="#Results-196"><span class="linenos">196</span></a><span class="sd">        ||Technique|Scaling Method|Variables|Fold|Explained Variance Score|...\</span>
</span><span id="Results-197"><a href="#Results-197"><span class="linenos">197</span></a><span class="sd">        |Mean Absolute Percentage Error|</span>
</span><span id="Results-198"><a href="#Results-198"><span class="linenos">198</span></a><span class="sd">        |---|---|---|---|---|---|---|---|</span>
</span><span id="Results-199"><a href="#Results-199"><span class="linenos">199</span></a><span class="sd">        |0|Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="Results-200"><a href="#Results-200"><span class="linenos">200</span></a><span class="sd">        |1|Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="Results-201"><a href="#Results-201"><span class="linenos">201</span></a><span class="sd">        |...|...|...|...|...|...|...|...|</span>
</span><span id="Results-202"><a href="#Results-202"><span class="linenos">202</span></a><span class="sd">        |55|Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="Results-203"><a href="#Results-203"><span class="linenos">203</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-204"><a href="#Results-204"><span class="linenos">204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="Results-205"><a href="#Results-205"><span class="linenos">205</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-206"><a href="#Results-206"><span class="linenos">206</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-207"><a href="#Results-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cached_error_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Results-208"><a href="#Results-208"><span class="linenos">208</span></a>
</span><span id="Results-209"><a href="#Results-209"><span class="linenos">209</span></a>    <span class="k">def</span> <span class="nf">_sklearn_error_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Results-210"><a href="#Results-210"><span class="linenos">210</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
</span><span id="Results-211"><a href="#Results-211"><span class="linenos">211</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cached_error_length</span>
</span><span id="Results-212"><a href="#Results-212"><span class="linenos">212</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Results-213"><a href="#Results-213"><span class="linenos">213</span></a>            <span class="k">if</span> <span class="p">(</span>
</span><span id="Results-214"><a href="#Results-214"><span class="linenos">214</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span>
</span><span id="Results-215"><a href="#Results-215"><span class="linenos">215</span></a>                    <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span>
</span><span id="Results-216"><a href="#Results-216"><span class="linenos">216</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span><span class="p">,</span>
</span><span id="Results-217"><a href="#Results-217"><span class="linenos">217</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Validation&quot;</span><span class="p">,</span>
</span><span id="Results-218"><a href="#Results-218"><span class="linenos">218</span></a>                    <span class="p">)</span>
</span><span id="Results-219"><a href="#Results-219"><span class="linenos">219</span></a>                <span class="p">]</span>
</span><span id="Results-220"><a href="#Results-220"><span class="linenos">220</span></a>                <span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">name</span><span class="p">]</span>
</span><span id="Results-221"><a href="#Results-221"><span class="linenos">221</span></a>                <span class="o">.</span><span class="n">notna</span><span class="p">()</span>
</span><span id="Results-222"><a href="#Results-222"><span class="linenos">222</span></a>                <span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="Results-223"><a href="#Results-223"><span class="linenos">223</span></a>            <span class="p">):</span>
</span><span id="Results-224"><a href="#Results-224"><span class="linenos">224</span></a>                <span class="k">pass</span>
</span><span id="Results-225"><a href="#Results-225"><span class="linenos">225</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Results-226"><a href="#Results-226"><span class="linenos">226</span></a>                <span class="k">raise</span> <span class="ne">KeyError</span>
</span><span id="Results-227"><a href="#Results-227"><span class="linenos">227</span></a>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="Results-228"><a href="#Results-228"><span class="linenos">228</span></a>            <span class="n">true</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">][</span>
</span><span id="Results-229"><a href="#Results-229"><span class="linenos">229</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Validation&quot;</span>
</span><span id="Results-230"><a href="#Results-230"><span class="linenos">230</span></a>            <span class="p">]</span>
</span><span id="Results-231"><a href="#Results-231"><span class="linenos">231</span></a>            <span class="n">pred_raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">true</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">]</span>
</span><span id="Results-232"><a href="#Results-232"><span class="linenos">232</span></a>            <span class="n">predicted</span> <span class="o">=</span> <span class="n">pred_raw</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</span><span id="Results-233"><a href="#Results-233"><span class="linenos">233</span></a>            <span class="n">error</span> <span class="o">=</span> <span class="n">err</span><span class="p">(</span><span class="n">true</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="n">predicted</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Results-234"><a href="#Results-234"><span class="linenos">234</span></a>            <span class="k">if</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
</span><span id="Results-235"><a href="#Results-235"><span class="linenos">235</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
</span><span id="Results-236"><a href="#Results-236"><span class="linenos">236</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Scaling Method&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
</span><span id="Results-237"><a href="#Results-237"><span class="linenos">237</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span>
</span><span id="Results-238"><a href="#Results-238"><span class="linenos">238</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;All&quot;</span>
</span><span id="Results-239"><a href="#Results-239"><span class="linenos">239</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">true</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Results-240"><a href="#Results-240"><span class="linenos">240</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="Results-241"><a href="#Results-241"><span class="linenos">241</span></a>            <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="Results-242"><a href="#Results-242"><span class="linenos">242</span></a>        <span class="n">true</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">][</span>
</span><span id="Results-243"><a href="#Results-243"><span class="linenos">243</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Validation&quot;</span>
</span><span id="Results-244"><a href="#Results-244"><span class="linenos">244</span></a>        <span class="p">]</span>
</span><span id="Results-245"><a href="#Results-245"><span class="linenos">245</span></a>        <span class="k">for</span> <span class="n">technique</span><span class="p">,</span> <span class="n">scaling_techniques</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Results-246"><a href="#Results-246"><span class="linenos">246</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">technique</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Results-247"><a href="#Results-247"><span class="linenos">247</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="Results-248"><a href="#Results-248"><span class="linenos">248</span></a>            <span class="k">for</span> <span class="n">scaling_technique</span><span class="p">,</span> <span class="n">var_combos</span> <span class="ow">in</span> <span class="n">scaling_techniques</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Results-249"><a href="#Results-249"><span class="linenos">249</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">scaling_technique</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Results-250"><a href="#Results-250"><span class="linenos">250</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="Results-251"><a href="#Results-251"><span class="linenos">251</span></a>                <span class="k">for</span> <span class="nb">vars</span><span class="p">,</span> <span class="n">folds</span> <span class="ow">in</span> <span class="n">var_combos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Results-252"><a href="#Results-252"><span class="linenos">252</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">][</span>
</span><span id="Results-253"><a href="#Results-253"><span class="linenos">253</span></a>                        <span class="nb">vars</span>
</span><span id="Results-254"><a href="#Results-254"><span class="linenos">254</span></a>                    <span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">true</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</span><span id="Results-255"><a href="#Results-255"><span class="linenos">255</span></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="Results-256"><a href="#Results-256"><span class="linenos">256</span></a>                        <span class="k">if</span> <span class="p">(</span>
</span><span id="Results-257"><a href="#Results-257"><span class="linenos">257</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="Results-258"><a href="#Results-258"><span class="linenos">258</span></a>                                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">technique</span><span class="p">)</span>
</span><span id="Results-259"><a href="#Results-259"><span class="linenos">259</span></a>                                <span class="o">&amp;</span> <span class="p">(</span>
</span><span id="Results-260"><a href="#Results-260"><span class="linenos">260</span></a>                                    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Scaling Method&quot;</span><span class="p">]</span>
</span><span id="Results-261"><a href="#Results-261"><span class="linenos">261</span></a>                                    <span class="o">==</span> <span class="n">scaling_technique</span>
</span><span id="Results-262"><a href="#Results-262"><span class="linenos">262</span></a>                                <span class="p">)</span>
</span><span id="Results-263"><a href="#Results-263"><span class="linenos">263</span></a>                                <span class="o">&amp;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">[</span><span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="nb">vars</span><span class="p">)</span>
</span><span id="Results-264"><a href="#Results-264"><span class="linenos">264</span></a>                            <span class="p">]</span>
</span><span id="Results-265"><a href="#Results-265"><span class="linenos">265</span></a>                            <span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">name</span><span class="p">]</span>
</span><span id="Results-266"><a href="#Results-266"><span class="linenos">266</span></a>                            <span class="o">.</span><span class="n">notna</span><span class="p">()</span>
</span><span id="Results-267"><a href="#Results-267"><span class="linenos">267</span></a>                            <span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span><span id="Results-268"><a href="#Results-268"><span class="linenos">268</span></a>                        <span class="p">):</span>
</span><span id="Results-269"><a href="#Results-269"><span class="linenos">269</span></a>                            <span class="k">continue</span>
</span><span id="Results-270"><a href="#Results-270"><span class="linenos">270</span></a>                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="Results-271"><a href="#Results-271"><span class="linenos">271</span></a>                        <span class="k">pass</span>
</span><span id="Results-272"><a href="#Results-272"><span class="linenos">272</span></a>                    <span class="k">for</span> <span class="n">fold</span><span class="p">,</span> <span class="n">pipe</span> <span class="ow">in</span> <span class="n">folds</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Results-273"><a href="#Results-273"><span class="linenos">273</span></a>                        <span class="k">if</span> <span class="p">(</span>
</span><span id="Results-274"><a href="#Results-274"><span class="linenos">274</span></a>                            <span class="n">fold</span>
</span><span id="Results-275"><a href="#Results-275"><span class="linenos">275</span></a>                            <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span>
</span><span id="Results-276"><a href="#Results-276"><span class="linenos">276</span></a>                                <span class="n">scaling_technique</span>
</span><span id="Results-277"><a href="#Results-277"><span class="linenos">277</span></a>                            <span class="p">][</span><span class="nb">vars</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span>
</span><span id="Results-278"><a href="#Results-278"><span class="linenos">278</span></a>                        <span class="p">):</span>
</span><span id="Results-279"><a href="#Results-279"><span class="linenos">279</span></a>                            <span class="n">pred_raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="Results-280"><a href="#Results-280"><span class="linenos">280</span></a>                                <span class="n">true</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="nb">vars</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">)</span>
</span><span id="Results-281"><a href="#Results-281"><span class="linenos">281</span></a>                            <span class="p">]</span>
</span><span id="Results-282"><a href="#Results-282"><span class="linenos">282</span></a>                            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">Pipeline</span><span class="p">):</span>
</span><span id="Results-283"><a href="#Results-283"><span class="linenos">283</span></a>                                <span class="n">pipe_to_use</span> <span class="o">=</span> <span class="n">pipe</span>
</span><span id="Results-284"><a href="#Results-284"><span class="linenos">284</span></a>                            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
</span><span id="Results-285"><a href="#Results-285"><span class="linenos">285</span></a>                                <span class="k">with</span> <span class="n">pipe</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pkl</span><span class="p">:</span>
</span><span id="Results-286"><a href="#Results-286"><span class="linenos">286</span></a>                                    <span class="n">pipe_to_use</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">pkl</span><span class="p">)</span>
</span><span id="Results-287"><a href="#Results-287"><span class="linenos">287</span></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="Results-288"><a href="#Results-288"><span class="linenos">288</span></a>                                <span class="k">continue</span>
</span><span id="Results-289"><a href="#Results-289"><span class="linenos">289</span></a>                            <span class="n">pred_no_ind</span> <span class="o">=</span> <span class="n">pipe_to_use</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">pred_raw</span><span class="p">)</span>
</span><span id="Results-290"><a href="#Results-290"><span class="linenos">290</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">][</span><span class="nb">vars</span><span class="p">][</span>
</span><span id="Results-291"><a href="#Results-291"><span class="linenos">291</span></a>                                <span class="n">fold</span>
</span><span id="Results-292"><a href="#Results-292"><span class="linenos">292</span></a>                            <span class="p">]</span> <span class="o">=</span> <span class="n">pred_no_ind</span>
</span><span id="Results-293"><a href="#Results-293"><span class="linenos">293</span></a>                        <span class="k">try</span><span class="p">:</span>
</span><span id="Results-294"><a href="#Results-294"><span class="linenos">294</span></a>                            <span class="n">predicted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span>
</span><span id="Results-295"><a href="#Results-295"><span class="linenos">295</span></a>                                <span class="n">scaling_technique</span>
</span><span id="Results-296"><a href="#Results-296"><span class="linenos">296</span></a>                            <span class="p">][</span><span class="nb">vars</span><span class="p">][</span><span class="n">fold</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</span><span id="Results-297"><a href="#Results-297"><span class="linenos">297</span></a>                            <span class="n">error</span> <span class="o">=</span> <span class="n">err</span><span class="p">(</span>
</span><span id="Results-298"><a href="#Results-298"><span class="linenos">298</span></a>                                <span class="n">true</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="n">predicted</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
</span><span id="Results-299"><a href="#Results-299"><span class="linenos">299</span></a>                            <span class="p">)</span>
</span><span id="Results-300"><a href="#Results-300"><span class="linenos">300</span></a>                        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
</span><span id="Results-301"><a href="#Results-301"><span class="linenos">301</span></a>                            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
</span><span id="Results-302"><a href="#Results-302"><span class="linenos">302</span></a>                                <span class="n">technique</span><span class="p">,</span> <span class="n">scaling_technique</span><span class="p">,</span> <span class="nb">vars</span><span class="p">,</span> <span class="n">fold</span>
</span><span id="Results-303"><a href="#Results-303"><span class="linenos">303</span></a>                            <span class="p">)</span>
</span><span id="Results-304"><a href="#Results-304"><span class="linenos">304</span></a>                            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">exc</span><span class="o">.</span><span class="n">args</span><span class="p">:</span>
</span><span id="Results-305"><a href="#Results-305"><span class="linenos">305</span></a>                                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</span><span id="Results-306"><a href="#Results-306"><span class="linenos">306</span></a>                            <span class="n">error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</span><span id="Results-307"><a href="#Results-307"><span class="linenos">307</span></a>                            <span class="n">predicted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
</span><span id="Results-308"><a href="#Results-308"><span class="linenos">308</span></a>
</span><span id="Results-309"><a href="#Results-309"><span class="linenos">309</span></a>                        <span class="k">if</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
</span><span id="Results-310"><a href="#Results-310"><span class="linenos">310</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">technique</span>
</span><span id="Results-311"><a href="#Results-311"><span class="linenos">311</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="Results-312"><a href="#Results-312"><span class="linenos">312</span></a>                                <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Scaling Method&quot;</span>
</span><span id="Results-313"><a href="#Results-313"><span class="linenos">313</span></a>                            <span class="p">]</span> <span class="o">=</span> <span class="n">scaling_technique</span>
</span><span id="Results-314"><a href="#Results-314"><span class="linenos">314</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">vars</span>
</span><span id="Results-315"><a href="#Results-315"><span class="linenos">315</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fold</span>
</span><span id="Results-316"><a href="#Results-316"><span class="linenos">316</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">true</span><span class="p">[</span>
</span><span id="Results-317"><a href="#Results-317"><span class="linenos">317</span></a>                                <span class="n">predicted</span><span class="o">.</span><span class="n">index</span>
</span><span id="Results-318"><a href="#Results-318"><span class="linenos">318</span></a>                            <span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Results-319"><a href="#Results-319"><span class="linenos">319</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="Results-320"><a href="#Results-320"><span class="linenos">320</span></a>                        <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="Results-321"><a href="#Results-321"><span class="linenos">321</span></a>                    <span class="k">if</span> <span class="n">idx</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
</span><span id="Results-322"><a href="#Results-322"><span class="linenos">322</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Technique&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">technique</span>
</span><span id="Results-323"><a href="#Results-323"><span class="linenos">323</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
</span><span id="Results-324"><a href="#Results-324"><span class="linenos">324</span></a>                            <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Scaling Method&quot;</span>
</span><span id="Results-325"><a href="#Results-325"><span class="linenos">325</span></a>                        <span class="p">]</span> <span class="o">=</span> <span class="n">scaling_technique</span>
</span><span id="Results-326"><a href="#Results-326"><span class="linenos">326</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Variables&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">vars</span>
</span><span id="Results-327"><a href="#Results-327"><span class="linenos">327</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Fold&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;All&quot;</span>
</span><span id="Results-328"><a href="#Results-328"><span class="linenos">328</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;Count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">true</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Results-329"><a href="#Results-329"><span class="linenos">329</span></a>                    <span class="n">predicted</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="Results-330"><a href="#Results-330"><span class="linenos">330</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">[</span><span class="n">technique</span><span class="p">][</span><span class="n">scaling_technique</span><span class="p">][</span><span class="nb">vars</span><span class="p">]</span>
</span><span id="Results-331"><a href="#Results-331"><span class="linenos">331</span></a>                        <span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Results-332"><a href="#Results-332"><span class="linenos">332</span></a>                        <span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</span><span id="Results-333"><a href="#Results-333"><span class="linenos">333</span></a>                    <span class="p">)</span>
</span><span id="Results-334"><a href="#Results-334"><span class="linenos">334</span></a>                    <span class="n">error</span> <span class="o">=</span> <span class="n">err</span><span class="p">(</span>
</span><span id="Results-335"><a href="#Results-335"><span class="linenos">335</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">predicted</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">],</span>
</span><span id="Results-336"><a href="#Results-336"><span class="linenos">336</span></a>                        <span class="n">predicted</span><span class="p">,</span>
</span><span id="Results-337"><a href="#Results-337"><span class="linenos">337</span></a>                        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="Results-338"><a href="#Results-338"><span class="linenos">338</span></a>                    <span class="p">)</span>
</span><span id="Results-339"><a href="#Results-339"><span class="linenos">339</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">error</span>
</span><span id="Results-340"><a href="#Results-340"><span class="linenos">340</span></a>                    <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="Results-341"><a href="#Results-341"><span class="linenos">341</span></a>
</span><span id="Results-342"><a href="#Results-342"><span class="linenos">342</span></a>    <span class="k">def</span> <span class="nf">explained_variance_score</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-343"><a href="#Results-343"><span class="linenos">343</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the explained variance score between the true values (y)</span>
</span><span id="Results-344"><a href="#Results-344"><span class="linenos">344</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-345"><a href="#Results-345"><span class="linenos">345</span></a>
</span><span id="Results-346"><a href="#Results-346"><span class="linenos">346</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-347"><a href="#Results-347"><span class="linenos">347</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-348"><a href="#Results-348"><span class="linenos">348</span></a><span class="sd">sklearn.metrics.explained_variance_score\</span>
</span><span id="Results-349"><a href="#Results-349"><span class="linenos">349</span></a><span class="sd">        )</span>
</span><span id="Results-350"><a href="#Results-350"><span class="linenos">350</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-351"><a href="#Results-351"><span class="linenos">351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-352"><a href="#Results-352"><span class="linenos">352</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">explained_variance_score</span><span class="p">,</span> <span class="s2">&quot;Explained Variance Score&quot;</span>
</span><span id="Results-353"><a href="#Results-353"><span class="linenos">353</span></a>        <span class="p">)</span>
</span><span id="Results-354"><a href="#Results-354"><span class="linenos">354</span></a>
</span><span id="Results-355"><a href="#Results-355"><span class="linenos">355</span></a>    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-356"><a href="#Results-356"><span class="linenos">356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the max error between the true values (y)</span>
</span><span id="Results-357"><a href="#Results-357"><span class="linenos">357</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-358"><a href="#Results-358"><span class="linenos">358</span></a>
</span><span id="Results-359"><a href="#Results-359"><span class="linenos">359</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-360"><a href="#Results-360"><span class="linenos">360</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-361"><a href="#Results-361"><span class="linenos">361</span></a><span class="sd">sklearn.metrics.max_error\</span>
</span><span id="Results-362"><a href="#Results-362"><span class="linenos">362</span></a><span class="sd">        )</span>
</span><span id="Results-363"><a href="#Results-363"><span class="linenos">363</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-364"><a href="#Results-364"><span class="linenos">364</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">met</span><span class="o">.</span><span class="n">max_error</span><span class="p">,</span> <span class="s2">&quot;Max Error&quot;</span><span class="p">)</span>
</span><span id="Results-365"><a href="#Results-365"><span class="linenos">365</span></a>
</span><span id="Results-366"><a href="#Results-366"><span class="linenos">366</span></a>    <span class="k">def</span> <span class="nf">mean_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-367"><a href="#Results-367"><span class="linenos">367</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean absolute error between the true values (y)</span>
</span><span id="Results-368"><a href="#Results-368"><span class="linenos">368</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-369"><a href="#Results-369"><span class="linenos">369</span></a>
</span><span id="Results-370"><a href="#Results-370"><span class="linenos">370</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-371"><a href="#Results-371"><span class="linenos">371</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-372"><a href="#Results-372"><span class="linenos">372</span></a><span class="sd">sklearn.metrics.mean_absolute_error\</span>
</span><span id="Results-373"><a href="#Results-373"><span class="linenos">373</span></a><span class="sd">        )</span>
</span><span id="Results-374"><a href="#Results-374"><span class="linenos">374</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-375"><a href="#Results-375"><span class="linenos">375</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-376"><a href="#Results-376"><span class="linenos">376</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_absolute_error</span><span class="p">,</span> <span class="s2">&quot;Mean Absolute Error&quot;</span>
</span><span id="Results-377"><a href="#Results-377"><span class="linenos">377</span></a>        <span class="p">)</span>
</span><span id="Results-378"><a href="#Results-378"><span class="linenos">378</span></a>
</span><span id="Results-379"><a href="#Results-379"><span class="linenos">379</span></a>    <span class="k">def</span> <span class="nf">root_mean_squared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-380"><a href="#Results-380"><span class="linenos">380</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the root mean squared error between the true values (y)</span>
</span><span id="Results-381"><a href="#Results-381"><span class="linenos">381</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-382"><a href="#Results-382"><span class="linenos">382</span></a>
</span><span id="Results-383"><a href="#Results-383"><span class="linenos">383</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-384"><a href="#Results-384"><span class="linenos">384</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-385"><a href="#Results-385"><span class="linenos">385</span></a><span class="sd">sklearn.metrics.mean_squared_error\</span>
</span><span id="Results-386"><a href="#Results-386"><span class="linenos">386</span></a><span class="sd">        )</span>
</span><span id="Results-387"><a href="#Results-387"><span class="linenos">387</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-388"><a href="#Results-388"><span class="linenos">388</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-389"><a href="#Results-389"><span class="linenos">389</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_error</span><span class="p">,</span> <span class="s2">&quot;Root Mean Squared Error&quot;</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span>
</span><span id="Results-390"><a href="#Results-390"><span class="linenos">390</span></a>        <span class="p">)</span>
</span><span id="Results-391"><a href="#Results-391"><span class="linenos">391</span></a>
</span><span id="Results-392"><a href="#Results-392"><span class="linenos">392</span></a>    <span class="k">def</span> <span class="nf">root_mean_squared_log</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-393"><a href="#Results-393"><span class="linenos">393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the root mean squared log error between the true values</span>
</span><span id="Results-394"><a href="#Results-394"><span class="linenos">394</span></a><span class="sd">        (y) and predicted y (x) [^tech].</span>
</span><span id="Results-395"><a href="#Results-395"><span class="linenos">395</span></a>
</span><span id="Results-396"><a href="#Results-396"><span class="linenos">396</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-397"><a href="#Results-397"><span class="linenos">397</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-398"><a href="#Results-398"><span class="linenos">398</span></a><span class="sd">sklearn.metrics.mean_squared_log_error\</span>
</span><span id="Results-399"><a href="#Results-399"><span class="linenos">399</span></a><span class="sd">        )</span>
</span><span id="Results-400"><a href="#Results-400"><span class="linenos">400</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-401"><a href="#Results-401"><span class="linenos">401</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-402"><a href="#Results-402"><span class="linenos">402</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_log_error</span><span class="p">,</span>
</span><span id="Results-403"><a href="#Results-403"><span class="linenos">403</span></a>            <span class="s2">&quot;Root Mean Squared Log Error&quot;</span><span class="p">,</span>
</span><span id="Results-404"><a href="#Results-404"><span class="linenos">404</span></a>            <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Results-405"><a href="#Results-405"><span class="linenos">405</span></a>        <span class="p">)</span>
</span><span id="Results-406"><a href="#Results-406"><span class="linenos">406</span></a>
</span><span id="Results-407"><a href="#Results-407"><span class="linenos">407</span></a>    <span class="k">def</span> <span class="nf">median_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-408"><a href="#Results-408"><span class="linenos">408</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the median absolute error between the true values (y)</span>
</span><span id="Results-409"><a href="#Results-409"><span class="linenos">409</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-410"><a href="#Results-410"><span class="linenos">410</span></a>
</span><span id="Results-411"><a href="#Results-411"><span class="linenos">411</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-412"><a href="#Results-412"><span class="linenos">412</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-413"><a href="#Results-413"><span class="linenos">413</span></a><span class="sd">sklearn.metrics.median_absolute_error\</span>
</span><span id="Results-414"><a href="#Results-414"><span class="linenos">414</span></a><span class="sd">        )</span>
</span><span id="Results-415"><a href="#Results-415"><span class="linenos">415</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-416"><a href="#Results-416"><span class="linenos">416</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-417"><a href="#Results-417"><span class="linenos">417</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">median_absolute_error</span><span class="p">,</span> <span class="s2">&quot;Median Absolute Error&quot;</span>
</span><span id="Results-418"><a href="#Results-418"><span class="linenos">418</span></a>        <span class="p">)</span>
</span><span id="Results-419"><a href="#Results-419"><span class="linenos">419</span></a>
</span><span id="Results-420"><a href="#Results-420"><span class="linenos">420</span></a>    <span class="k">def</span> <span class="nf">mean_absolute_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-421"><a href="#Results-421"><span class="linenos">421</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean absolute percentage error between the true</span>
</span><span id="Results-422"><a href="#Results-422"><span class="linenos">422</span></a><span class="sd">        values (y) and predicted y (x) [^tech].</span>
</span><span id="Results-423"><a href="#Results-423"><span class="linenos">423</span></a>
</span><span id="Results-424"><a href="#Results-424"><span class="linenos">424</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-425"><a href="#Results-425"><span class="linenos">425</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-426"><a href="#Results-426"><span class="linenos">426</span></a><span class="sd">sklearn.metrics.mean_absolute_percentage_error\</span>
</span><span id="Results-427"><a href="#Results-427"><span class="linenos">427</span></a><span class="sd">        )</span>
</span><span id="Results-428"><a href="#Results-428"><span class="linenos">428</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-429"><a href="#Results-429"><span class="linenos">429</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-430"><a href="#Results-430"><span class="linenos">430</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_absolute_percentage_error</span><span class="p">,</span>
</span><span id="Results-431"><a href="#Results-431"><span class="linenos">431</span></a>            <span class="s2">&quot;Mean Absolute Percentage Error&quot;</span><span class="p">,</span>
</span><span id="Results-432"><a href="#Results-432"><span class="linenos">432</span></a>        <span class="p">)</span>
</span><span id="Results-433"><a href="#Results-433"><span class="linenos">433</span></a>
</span><span id="Results-434"><a href="#Results-434"><span class="linenos">434</span></a>    <span class="k">def</span> <span class="nf">r2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-435"><a href="#Results-435"><span class="linenos">435</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the r2 between the true values (y)</span>
</span><span id="Results-436"><a href="#Results-436"><span class="linenos">436</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-437"><a href="#Results-437"><span class="linenos">437</span></a>
</span><span id="Results-438"><a href="#Results-438"><span class="linenos">438</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-439"><a href="#Results-439"><span class="linenos">439</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-440"><a href="#Results-440"><span class="linenos">440</span></a><span class="sd">sklearn.metrics.r2_score\</span>
</span><span id="Results-441"><a href="#Results-441"><span class="linenos">441</span></a><span class="sd">        )</span>
</span><span id="Results-442"><a href="#Results-442"><span class="linenos">442</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-443"><a href="#Results-443"><span class="linenos">443</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">met</span><span class="o">.</span><span class="n">r2_score</span><span class="p">,</span> <span class="s2">&quot;r2&quot;</span><span class="p">)</span>
</span><span id="Results-444"><a href="#Results-444"><span class="linenos">444</span></a>
</span><span id="Results-445"><a href="#Results-445"><span class="linenos">445</span></a>    <span class="k">def</span> <span class="nf">mean_poisson_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-446"><a href="#Results-446"><span class="linenos">446</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean poisson deviance between the true values (y)</span>
</span><span id="Results-447"><a href="#Results-447"><span class="linenos">447</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-448"><a href="#Results-448"><span class="linenos">448</span></a>
</span><span id="Results-449"><a href="#Results-449"><span class="linenos">449</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-450"><a href="#Results-450"><span class="linenos">450</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-451"><a href="#Results-451"><span class="linenos">451</span></a><span class="sd">sklearn.metrics.mean_poisson_deviance\</span>
</span><span id="Results-452"><a href="#Results-452"><span class="linenos">452</span></a><span class="sd">        )</span>
</span><span id="Results-453"><a href="#Results-453"><span class="linenos">453</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-454"><a href="#Results-454"><span class="linenos">454</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-455"><a href="#Results-455"><span class="linenos">455</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_poisson_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Poisson Deviance&quot;</span>
</span><span id="Results-456"><a href="#Results-456"><span class="linenos">456</span></a>        <span class="p">)</span>
</span><span id="Results-457"><a href="#Results-457"><span class="linenos">457</span></a>
</span><span id="Results-458"><a href="#Results-458"><span class="linenos">458</span></a>    <span class="k">def</span> <span class="nf">mean_gamma_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-459"><a href="#Results-459"><span class="linenos">459</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean gamma deviance between the true values (y)</span>
</span><span id="Results-460"><a href="#Results-460"><span class="linenos">460</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-461"><a href="#Results-461"><span class="linenos">461</span></a>
</span><span id="Results-462"><a href="#Results-462"><span class="linenos">462</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-463"><a href="#Results-463"><span class="linenos">463</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-464"><a href="#Results-464"><span class="linenos">464</span></a><span class="sd">sklearn.metrics.mean_gamma_deviance\</span>
</span><span id="Results-465"><a href="#Results-465"><span class="linenos">465</span></a><span class="sd">        )</span>
</span><span id="Results-466"><a href="#Results-466"><span class="linenos">466</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-467"><a href="#Results-467"><span class="linenos">467</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-468"><a href="#Results-468"><span class="linenos">468</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_gamma_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Gamma Deviance&quot;</span>
</span><span id="Results-469"><a href="#Results-469"><span class="linenos">469</span></a>        <span class="p">)</span>
</span><span id="Results-470"><a href="#Results-470"><span class="linenos">470</span></a>
</span><span id="Results-471"><a href="#Results-471"><span class="linenos">471</span></a>    <span class="k">def</span> <span class="nf">mean_tweedie_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-472"><a href="#Results-472"><span class="linenos">472</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean tweedie deviance between the true values (y)</span>
</span><span id="Results-473"><a href="#Results-473"><span class="linenos">473</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results-474"><a href="#Results-474"><span class="linenos">474</span></a>
</span><span id="Results-475"><a href="#Results-475"><span class="linenos">475</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-476"><a href="#Results-476"><span class="linenos">476</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results-477"><a href="#Results-477"><span class="linenos">477</span></a><span class="sd">sklearn.metrics.mean_tweedie_deviance\</span>
</span><span id="Results-478"><a href="#Results-478"><span class="linenos">478</span></a><span class="sd">        )</span>
</span><span id="Results-479"><a href="#Results-479"><span class="linenos">479</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-480"><a href="#Results-480"><span class="linenos">480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-481"><a href="#Results-481"><span class="linenos">481</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_tweedie_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Tweedie Deviance&quot;</span>
</span><span id="Results-482"><a href="#Results-482"><span class="linenos">482</span></a>        <span class="p">)</span>
</span><span id="Results-483"><a href="#Results-483"><span class="linenos">483</span></a>
</span><span id="Results-484"><a href="#Results-484"><span class="linenos">484</span></a>    <span class="k">def</span> <span class="nf">mean_pinball_loss</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-485"><a href="#Results-485"><span class="linenos">485</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean pinball loss between the true values (y)</span>
</span><span id="Results-486"><a href="#Results-486"><span class="linenos">486</span></a><span class="sd">        predicted y (x) [^tech].</span>
</span><span id="Results-487"><a href="#Results-487"><span class="linenos">487</span></a>
</span><span id="Results-488"><a href="#Results-488"><span class="linenos">488</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results-489"><a href="#Results-489"><span class="linenos">489</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated\</span>
</span><span id="Results-490"><a href="#Results-490"><span class="linenos">490</span></a><span class="sd">/sklearn.metrics.mean_pinball_loss\</span>
</span><span id="Results-491"><a href="#Results-491"><span class="linenos">491</span></a><span class="sd">        )</span>
</span><span id="Results-492"><a href="#Results-492"><span class="linenos">492</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-493"><a href="#Results-493"><span class="linenos">493</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results-494"><a href="#Results-494"><span class="linenos">494</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_pinball_loss</span><span class="p">,</span> <span class="s2">&quot;Mean Pinball Deviance&quot;</span>
</span><span id="Results-495"><a href="#Results-495"><span class="linenos">495</span></a>        <span class="p">)</span>
</span><span id="Results-496"><a href="#Results-496"><span class="linenos">496</span></a>
</span><span id="Results-497"><a href="#Results-497"><span class="linenos">497</span></a>    <span class="k">def</span> <span class="nf">centered_rmse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-498"><a href="#Results-498"><span class="linenos">498</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-499"><a href="#Results-499"><span class="linenos">499</span></a><span class="sd">        Calculate the centered root mean squared error between pred and true</span>
</span><span id="Results-500"><a href="#Results-500"><span class="linenos">500</span></a>
</span><span id="Results-501"><a href="#Results-501"><span class="linenos">501</span></a><span class="sd">        $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n-\\bar{p}) - \</span>
</span><span id="Results-502"><a href="#Results-502"><span class="linenos">502</span></a><span class="sd">(t_n-\\bar{t})]^2}$</span>
</span><span id="Results-503"><a href="#Results-503"><span class="linenos">503</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-504"><a href="#Results-504"><span class="linenos">504</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">crmse</span><span class="p">,</span> <span class="s2">&quot;Centered Root Mean Squared Error&quot;</span><span class="p">)</span>
</span><span id="Results-505"><a href="#Results-505"><span class="linenos">505</span></a>
</span><span id="Results-506"><a href="#Results-506"><span class="linenos">506</span></a>    <span class="k">def</span> <span class="nf">unbiased_rmse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-507"><a href="#Results-507"><span class="linenos">507</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-508"><a href="#Results-508"><span class="linenos">508</span></a><span class="sd">        Calculates the unbiased root mean squared error between pred and true</span>
</span><span id="Results-509"><a href="#Results-509"><span class="linenos">509</span></a>
</span><span id="Results-510"><a href="#Results-510"><span class="linenos">510</span></a><span class="sd">        $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n - t_n)^2] - (\\frac{1}{N}\\\</span>
</span><span id="Results-511"><a href="#Results-511"><span class="linenos">511</span></a><span class="sd">sum_{n=1}^{N}[p_n - t_n])^2}$</span>
</span><span id="Results-512"><a href="#Results-512"><span class="linenos">512</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-513"><a href="#Results-513"><span class="linenos">513</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ubrmse</span><span class="p">,</span> <span class="s2">&quot;Unbiased Root Mean Squared Error&quot;</span><span class="p">)</span>
</span><span id="Results-514"><a href="#Results-514"><span class="linenos">514</span></a>
</span><span id="Results-515"><a href="#Results-515"><span class="linenos">515</span></a>    <span class="k">def</span> <span class="nf">mbe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-516"><a href="#Results-516"><span class="linenos">516</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-517"><a href="#Results-517"><span class="linenos">517</span></a><span class="sd">        Calculates the mean bias error between pred and true</span>
</span><span id="Results-518"><a href="#Results-518"><span class="linenos">518</span></a>
</span><span id="Results-519"><a href="#Results-519"><span class="linenos">519</span></a><span class="sd">        $\\frac{1}{N}\\sum_{n=1}^{N}[p_n - t_n]$</span>
</span><span id="Results-520"><a href="#Results-520"><span class="linenos">520</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-521"><a href="#Results-521"><span class="linenos">521</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">mean_bias_error</span><span class="p">,</span> <span class="s2">&quot;Mean Bias Error&quot;</span><span class="p">)</span>
</span><span id="Results-522"><a href="#Results-522"><span class="linenos">522</span></a>
</span><span id="Results-523"><a href="#Results-523"><span class="linenos">523</span></a>    <span class="k">def</span> <span class="nf">ref_iqr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-524"><a href="#Results-524"><span class="linenos">524</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-525"><a href="#Results-525"><span class="linenos">525</span></a><span class="sd">        Calculates interquartile range of reference measurements, useful for</span>
</span><span id="Results-526"><a href="#Results-526"><span class="linenos">526</span></a><span class="sd">        normalising errors</span>
</span><span id="Results-527"><a href="#Results-527"><span class="linenos">527</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-528"><a href="#Results-528"><span class="linenos">528</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_iqr</span><span class="p">,</span> <span class="s2">&quot;Reference Interquartile Range&quot;</span><span class="p">)</span>
</span><span id="Results-529"><a href="#Results-529"><span class="linenos">529</span></a>
</span><span id="Results-530"><a href="#Results-530"><span class="linenos">530</span></a>    <span class="k">def</span> <span class="nf">ref_mean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-531"><a href="#Results-531"><span class="linenos">531</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-532"><a href="#Results-532"><span class="linenos">532</span></a><span class="sd">        Calculates mean of reference measurements, useful for</span>
</span><span id="Results-533"><a href="#Results-533"><span class="linenos">533</span></a><span class="sd">        normalising errors</span>
</span><span id="Results-534"><a href="#Results-534"><span class="linenos">534</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-535"><a href="#Results-535"><span class="linenos">535</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_mean</span><span class="p">,</span> <span class="s2">&quot;Reference Mean&quot;</span><span class="p">)</span>
</span><span id="Results-536"><a href="#Results-536"><span class="linenos">536</span></a>
</span><span id="Results-537"><a href="#Results-537"><span class="linenos">537</span></a>    <span class="k">def</span> <span class="nf">ref_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-538"><a href="#Results-538"><span class="linenos">538</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-539"><a href="#Results-539"><span class="linenos">539</span></a><span class="sd">        Calculates range of reference measurements, useful for</span>
</span><span id="Results-540"><a href="#Results-540"><span class="linenos">540</span></a><span class="sd">        normalising errors</span>
</span><span id="Results-541"><a href="#Results-541"><span class="linenos">541</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-542"><a href="#Results-542"><span class="linenos">542</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_range</span><span class="p">,</span> <span class="s2">&quot;Reference Range&quot;</span><span class="p">)</span>
</span><span id="Results-543"><a href="#Results-543"><span class="linenos">543</span></a>
</span><span id="Results-544"><a href="#Results-544"><span class="linenos">544</span></a>    <span class="k">def</span> <span class="nf">ref_sd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results-545"><a href="#Results-545"><span class="linenos">545</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-546"><a href="#Results-546"><span class="linenos">546</span></a><span class="sd">        Calculates standard deviation of reference measurements, useful for</span>
</span><span id="Results-547"><a href="#Results-547"><span class="linenos">547</span></a><span class="sd">        normalising errors</span>
</span><span id="Results-548"><a href="#Results-548"><span class="linenos">548</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-549"><a href="#Results-549"><span class="linenos">549</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_sd</span><span class="p">,</span> <span class="s2">&quot;Reference Standard Deviation&quot;</span><span class="p">)</span>
</span><span id="Results-550"><a href="#Results-550"><span class="linenos">550</span></a>
</span><span id="Results-551"><a href="#Results-551"><span class="linenos">551</span></a>    <span class="k">def</span> <span class="nf">return_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="Results-552"><a href="#Results-552"><span class="linenos">552</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results-553"><a href="#Results-553"><span class="linenos">553</span></a><span class="sd">        Returns all calculated errors in dataframe format</span>
</span><span id="Results-554"><a href="#Results-554"><span class="linenos">554</span></a>
</span><span id="Results-555"><a href="#Results-555"><span class="linenos">555</span></a><span class="sd">        Initially the error dataframe has the following structure:</span>
</span><span id="Results-556"><a href="#Results-556"><span class="linenos">556</span></a>
</span><span id="Results-557"><a href="#Results-557"><span class="linenos">557</span></a><span class="sd">        ||Technique|Scaling Method|Variables|Fold|Explained Variance Score|\</span>
</span><span id="Results-558"><a href="#Results-558"><span class="linenos">558</span></a><span class="sd">        ...|Mean Absolute Percentage Error|</span>
</span><span id="Results-559"><a href="#Results-559"><span class="linenos">559</span></a><span class="sd">        |---|---|---|---|---|---|---|---|</span>
</span><span id="Results-560"><a href="#Results-560"><span class="linenos">560</span></a><span class="sd">        |0|Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="Results-561"><a href="#Results-561"><span class="linenos">561</span></a><span class="sd">        |1|Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="Results-562"><a href="#Results-562"><span class="linenos">562</span></a><span class="sd">        |...|...|...|...|...|...|...|...|</span>
</span><span id="Results-563"><a href="#Results-563"><span class="linenos">563</span></a><span class="sd">        |55|Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="Results-564"><a href="#Results-564"><span class="linenos">564</span></a>
</span><span id="Results-565"><a href="#Results-565"><span class="linenos">565</span></a><span class="sd">        However, before returning the data, a new MultiIndex is built using</span>
</span><span id="Results-566"><a href="#Results-566"><span class="linenos">566</span></a><span class="sd">        the Technique, Scaling Method, Variables and Fold columns. This</span>
</span><span id="Results-567"><a href="#Results-567"><span class="linenos">567</span></a><span class="sd">        allows easy comparison of the different techniques by grouping on one</span>
</span><span id="Results-568"><a href="#Results-568"><span class="linenos">568</span></a><span class="sd">        or multiple levels of the MultiIndex.</span>
</span><span id="Results-569"><a href="#Results-569"><span class="linenos">569</span></a>
</span><span id="Results-570"><a href="#Results-570"><span class="linenos">570</span></a><span class="sd">        Returns</span>
</span><span id="Results-571"><a href="#Results-571"><span class="linenos">571</span></a><span class="sd">        -------</span>
</span><span id="Results-572"><a href="#Results-572"><span class="linenos">572</span></a><span class="sd">        pd.DataFrame</span>
</span><span id="Results-573"><a href="#Results-573"><span class="linenos">573</span></a><span class="sd">            Results dataframe in the following format:</span>
</span><span id="Results-574"><a href="#Results-574"><span class="linenos">574</span></a>
</span><span id="Results-575"><a href="#Results-575"><span class="linenos">575</span></a><span class="sd">            |||||Explained Variance Score|\</span>
</span><span id="Results-576"><a href="#Results-576"><span class="linenos">576</span></a><span class="sd">            ...|Mean Absolute Percentage Error|</span>
</span><span id="Results-577"><a href="#Results-577"><span class="linenos">577</span></a><span class="sd">            |---|---|---|---|---|---|---|</span>
</span><span id="Results-578"><a href="#Results-578"><span class="linenos">578</span></a><span class="sd">            |Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="Results-579"><a href="#Results-579"><span class="linenos">579</span></a><span class="sd">            |Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="Results-580"><a href="#Results-580"><span class="linenos">580</span></a><span class="sd">            |...|...|...|...|...|...|...|</span>
</span><span id="Results-581"><a href="#Results-581"><span class="linenos">581</span></a><span class="sd">            |Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="Results-582"><a href="#Results-582"><span class="linenos">582</span></a>
</span><span id="Results-583"><a href="#Results-583"><span class="linenos">583</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results-584"><a href="#Results-584"><span class="linenos">584</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span>
</span></pre></div>


            <div class="docstring"><p>Determine performance of models using a range of metrics.</p>

<p>Used to compare a range of different models that were fitted in the
Calibrate class in <code>coefficients.py</code>.</p>
</div>


                            <div id="Results.__init__" class="classattr">
                                        <input id="Results.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Results</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">x_data</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">y_data</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">target</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">models</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">sklearn</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">]]]]]</span>,</span><span class="param">	<span class="n">errors</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">Empty</span> <span class="n">DataFrame</span>
<span class="n">Columns</span><span class="p">:</span> <span class="p">[]</span>
<span class="n">Index</span><span class="p">:</span> <span class="p">[]</span></span>)</span>

                <label class="view-source-button" for="Results.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.__init__-113"><a href="#Results.__init__-113"><span class="linenos">113</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Results.__init__-114"><a href="#Results.__init__-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Results.__init__-115"><a href="#Results.__init__-115"><span class="linenos">115</span></a>        <span class="n">x_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="Results.__init__-116"><a href="#Results.__init__-116"><span class="linenos">116</span></a>        <span class="n">y_data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
</span><span id="Results.__init__-117"><a href="#Results.__init__-117"><span class="linenos">117</span></a>        <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Results.__init__-118"><a href="#Results.__init__-118"><span class="linenos">118</span></a>        <span class="n">models</span><span class="p">:</span> <span class="n">CoefficientPipelineDict</span><span class="p">,</span>
</span><span id="Results.__init__-119"><a href="#Results.__init__-119"><span class="linenos">119</span></a>        <span class="n">errors</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span>
</span><span id="Results.__init__-120"><a href="#Results.__init__-120"><span class="linenos">120</span></a>    <span class="p">):</span>
</span><span id="Results.__init__-121"><a href="#Results.__init__-121"><span class="linenos">121</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.__init__-122"><a href="#Results.__init__-122"><span class="linenos">122</span></a><span class="sd">        Initialises the class</span>
</span><span id="Results.__init__-123"><a href="#Results.__init__-123"><span class="linenos">123</span></a>
</span><span id="Results.__init__-124"><a href="#Results.__init__-124"><span class="linenos">124</span></a><span class="sd">        Parameters</span>
</span><span id="Results.__init__-125"><a href="#Results.__init__-125"><span class="linenos">125</span></a><span class="sd">        ----------</span>
</span><span id="Results.__init__-126"><a href="#Results.__init__-126"><span class="linenos">126</span></a><span class="sd">        x_data : pd.DataFrame</span>
</span><span id="Results.__init__-127"><a href="#Results.__init__-127"><span class="linenos">127</span></a><span class="sd">            Dependent measurements</span>
</span><span id="Results.__init__-128"><a href="#Results.__init__-128"><span class="linenos">128</span></a><span class="sd">        y_data : pd.DataFrame</span>
</span><span id="Results.__init__-129"><a href="#Results.__init__-129"><span class="linenos">129</span></a><span class="sd">            Independent measurements</span>
</span><span id="Results.__init__-130"><a href="#Results.__init__-130"><span class="linenos">130</span></a><span class="sd">        target : str</span>
</span><span id="Results.__init__-131"><a href="#Results.__init__-131"><span class="linenos">131</span></a><span class="sd">            Column name of the primary feature to use in calibration, must be</span>
</span><span id="Results.__init__-132"><a href="#Results.__init__-132"><span class="linenos">132</span></a><span class="sd">            the name of a column in both `x_data` and `y_data`.</span>
</span><span id="Results.__init__-133"><a href="#Results.__init__-133"><span class="linenos">133</span></a><span class="sd">        models : CoefficientPipelineDict</span>
</span><span id="Results.__init__-134"><a href="#Results.__init__-134"><span class="linenos">134</span></a><span class="sd">            The calibrated models.</span>
</span><span id="Results.__init__-135"><a href="#Results.__init__-135"><span class="linenos">135</span></a><span class="sd">        errors : pd.DataFrame</span>
</span><span id="Results.__init__-136"><a href="#Results.__init__-136"><span class="linenos">136</span></a><span class="sd">            Any previously calculated errors. Useful if you need to skip over</span>
</span><span id="Results.__init__-137"><a href="#Results.__init__-137"><span class="linenos">137</span></a><span class="sd">            previous calculations.</span>
</span><span id="Results.__init__-138"><a href="#Results.__init__-138"><span class="linenos">138</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.__init__-139"><a href="#Results.__init__-139"><span class="linenos">139</span></a>        <span class="k">if</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x_data</span><span class="o">.</span><span class="n">columns</span> <span class="ow">or</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
</span><span id="Results.__init__-140"><a href="#Results.__init__-140"><span class="linenos">140</span></a>            <span class="n">not_in_x</span> <span class="o">=</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x_data</span><span class="o">.</span><span class="n">columns</span>
</span><span id="Results.__init__-141"><a href="#Results.__init__-141"><span class="linenos">141</span></a>            <span class="n">not_in_y</span> <span class="o">=</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_data</span><span class="o">.</span><span class="n">columns</span>
</span><span id="Results.__init__-142"><a href="#Results.__init__-142"><span class="linenos">142</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="Results.__init__-143"><a href="#Results.__init__-143"><span class="linenos">143</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">target</span><span class="si">}</span><span class="s2"> not in </span><span class="si">{</span><span class="s1">&#39;x&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_x</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Results.__init__-144"><a href="#Results.__init__-144"><span class="linenos">144</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39; and &#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_x</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">not_in_y</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Results.__init__-145"><a href="#Results.__init__-145"><span class="linenos">145</span></a>                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;y&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">not_in_y</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Results.__init__-146"><a href="#Results.__init__-146"><span class="linenos">146</span></a>            <span class="p">)</span>
</span><span id="Results.__init__-147"><a href="#Results.__init__-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">x_data</span>
</span><span id="Results.__init__-148"><a href="#Results.__init__-148"><span class="linenos">148</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dependent measurements&quot;&quot;&quot;</span>
</span><span id="Results.__init__-149"><a href="#Results.__init__-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">y_data</span>
</span><span id="Results.__init__-150"><a href="#Results.__init__-150"><span class="linenos">150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Independent Measurements&quot;&quot;&quot;</span>
</span><span id="Results.__init__-151"><a href="#Results.__init__-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">target</span>
</span><span id="Results.__init__-152"><a href="#Results.__init__-152"><span class="linenos">152</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Column name of primary feature to use in calibration&quot;&quot;&quot;</span>
</span><span id="Results.__init__-153"><a href="#Results.__init__-153"><span class="linenos">153</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">models</span><span class="p">:</span> <span class="n">CoefficientPipelineDict</span> <span class="o">=</span> <span class="n">models</span>
</span><span id="Results.__init__-154"><a href="#Results.__init__-154"><span class="linenos">154</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.__init__-155"><a href="#Results.__init__-155"><span class="linenos">155</span></a><span class="sd">        They are stored in a nested structure as</span>
</span><span id="Results.__init__-156"><a href="#Results.__init__-156"><span class="linenos">156</span></a><span class="sd">        follows:</span>
</span><span id="Results.__init__-157"><a href="#Results.__init__-157"><span class="linenos">157</span></a><span class="sd">        1. Primary Key, name of the technique (e.g Lasso Regression).</span>
</span><span id="Results.__init__-158"><a href="#Results.__init__-158"><span class="linenos">158</span></a><span class="sd">        2. Scaling technique (e.g Yeo-Johnson Transform).</span>
</span><span id="Results.__init__-159"><a href="#Results.__init__-159"><span class="linenos">159</span></a><span class="sd">        3. Combination of variables used or `target` if calibration is</span>
</span><span id="Results.__init__-160"><a href="#Results.__init__-160"><span class="linenos">160</span></a><span class="sd">        univariate (e.g &quot;`target` + a + b).</span>
</span><span id="Results.__init__-161"><a href="#Results.__init__-161"><span class="linenos">161</span></a><span class="sd">        4. Fold, which fold was used excluded from the calibration. If data</span>
</span><span id="Results.__init__-162"><a href="#Results.__init__-162"><span class="linenos">162</span></a><span class="sd">        if 5-fold cross validated, a key of 4 indicates the data was</span>
</span><span id="Results.__init__-163"><a href="#Results.__init__-163"><span class="linenos">163</span></a><span class="sd">        trained on folds 0-3.</span>
</span><span id="Results.__init__-164"><a href="#Results.__init__-164"><span class="linenos">164</span></a>
</span><span id="Results.__init__-165"><a href="#Results.__init__-165"><span class="linenos">165</span></a><span class="sd">        ```mermaid</span>
</span><span id="Results.__init__-166"><a href="#Results.__init__-166"><span class="linenos">166</span></a><span class="sd">            stateDiagram-v2</span>
</span><span id="Results.__init__-167"><a href="#Results.__init__-167"><span class="linenos">167</span></a><span class="sd">              models --&gt; Technique</span>
</span><span id="Results.__init__-168"><a href="#Results.__init__-168"><span class="linenos">168</span></a><span class="sd">              state Technique {</span>
</span><span id="Results.__init__-169"><a href="#Results.__init__-169"><span class="linenos">169</span></a><span class="sd">                [*] --&gt; Scaling</span>
</span><span id="Results.__init__-170"><a href="#Results.__init__-170"><span class="linenos">170</span></a><span class="sd">                [*]: The calibration technique used</span>
</span><span id="Results.__init__-171"><a href="#Results.__init__-171"><span class="linenos">171</span></a><span class="sd">                [*]: (e.g &quot;Lasso Regression&quot;)</span>
</span><span id="Results.__init__-172"><a href="#Results.__init__-172"><span class="linenos">172</span></a><span class="sd">                state Scaling {</span>
</span><span id="Results.__init__-173"><a href="#Results.__init__-173"><span class="linenos">173</span></a><span class="sd">                  [*] --&gt; Variables</span>
</span><span id="Results.__init__-174"><a href="#Results.__init__-174"><span class="linenos">174</span></a><span class="sd">                  [*]: The scaling technique used</span>
</span><span id="Results.__init__-175"><a href="#Results.__init__-175"><span class="linenos">175</span></a><span class="sd">                  [*]: (e.g &quot;Yeo-Johnson Transform&quot;)</span>
</span><span id="Results.__init__-176"><a href="#Results.__init__-176"><span class="linenos">176</span></a><span class="sd">                  state Variables {</span>
</span><span id="Results.__init__-177"><a href="#Results.__init__-177"><span class="linenos">177</span></a><span class="sd">                    [*] : The combination of variables used</span>
</span><span id="Results.__init__-178"><a href="#Results.__init__-178"><span class="linenos">178</span></a><span class="sd">                    [*] : (e.g &quot;x + a + b&quot;)</span>
</span><span id="Results.__init__-179"><a href="#Results.__init__-179"><span class="linenos">179</span></a><span class="sd">                    [*] --&gt; Fold</span>
</span><span id="Results.__init__-180"><a href="#Results.__init__-180"><span class="linenos">180</span></a><span class="sd">                    state Fold {</span>
</span><span id="Results.__init__-181"><a href="#Results.__init__-181"><span class="linenos">181</span></a><span class="sd">                     [*] : Which fold was excluded from training data</span>
</span><span id="Results.__init__-182"><a href="#Results.__init__-182"><span class="linenos">182</span></a><span class="sd">                     [*] : (e.g 4 indicates folds 0-3 were used to train)</span>
</span><span id="Results.__init__-183"><a href="#Results.__init__-183"><span class="linenos">183</span></a><span class="sd">                    }</span>
</span><span id="Results.__init__-184"><a href="#Results.__init__-184"><span class="linenos">184</span></a><span class="sd">                  }</span>
</span><span id="Results.__init__-185"><a href="#Results.__init__-185"><span class="linenos">185</span></a><span class="sd">                }</span>
</span><span id="Results.__init__-186"><a href="#Results.__init__-186"><span class="linenos">186</span></a><span class="sd">              }</span>
</span><span id="Results.__init__-187"><a href="#Results.__init__-187"><span class="linenos">187</span></a><span class="sd">        ```</span>
</span><span id="Results.__init__-188"><a href="#Results.__init__-188"><span class="linenos">188</span></a>
</span><span id="Results.__init__-189"><a href="#Results.__init__-189"><span class="linenos">189</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.__init__-190"><a href="#Results.__init__-190"><span class="linenos">190</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="n">errors</span>
</span><span id="Results.__init__-191"><a href="#Results.__init__-191"><span class="linenos">191</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.__init__-192"><a href="#Results.__init__-192"><span class="linenos">192</span></a><span class="sd">        Results of error metric valculations. Index increases sequentially</span>
</span><span id="Results.__init__-193"><a href="#Results.__init__-193"><span class="linenos">193</span></a><span class="sd">        by 1, columns contain the technique, scaling method, variables and</span>
</span><span id="Results.__init__-194"><a href="#Results.__init__-194"><span class="linenos">194</span></a><span class="sd">        fold for each row. It also contains a column for each metric.</span>
</span><span id="Results.__init__-195"><a href="#Results.__init__-195"><span class="linenos">195</span></a>
</span><span id="Results.__init__-196"><a href="#Results.__init__-196"><span class="linenos">196</span></a><span class="sd">        ||Technique|Scaling Method|Variables|Fold|Explained Variance Score|...\</span>
</span><span id="Results.__init__-197"><a href="#Results.__init__-197"><span class="linenos">197</span></a><span class="sd">        |Mean Absolute Percentage Error|</span>
</span><span id="Results.__init__-198"><a href="#Results.__init__-198"><span class="linenos">198</span></a><span class="sd">        |---|---|---|---|---|---|---|---|</span>
</span><span id="Results.__init__-199"><a href="#Results.__init__-199"><span class="linenos">199</span></a><span class="sd">        |0|Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="Results.__init__-200"><a href="#Results.__init__-200"><span class="linenos">200</span></a><span class="sd">        |1|Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="Results.__init__-201"><a href="#Results.__init__-201"><span class="linenos">201</span></a><span class="sd">        |...|...|...|...|...|...|...|...|</span>
</span><span id="Results.__init__-202"><a href="#Results.__init__-202"><span class="linenos">202</span></a><span class="sd">        |55|Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="Results.__init__-203"><a href="#Results.__init__-203"><span class="linenos">203</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.__init__-204"><a href="#Results.__init__-204"><span class="linenos">204</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">pred_vals</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="Results.__init__-205"><a href="#Results.__init__-205"><span class="linenos">205</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.__init__-206"><a href="#Results.__init__-206"><span class="linenos">206</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.__init__-207"><a href="#Results.__init__-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cached_error_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Initialises the class</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>x_data</strong> (pd.DataFrame):
Dependent measurements</li>
<li><strong>y_data</strong> (pd.DataFrame):
Independent measurements</li>
<li><strong>target</strong> (str):
Column name of the primary feature to use in calibration, must be
the name of a column in both <code>x_data</code> and <code>y_data</code>.</li>
<li><strong>models</strong> (CoefficientPipelineDict):
The calibrated models.</li>
<li><strong>errors</strong> (pd.DataFrame):
Any previously calculated errors. Useful if you need to skip over
previous calculations.</li>
</ul>
</div>


                            </div>
                            <div id="Results.x" class="classattr">
                                <div class="attr variable">
            <span class="name">x</span><span class="annotation">: pandas.core.frame.DataFrame</span>

        
    </div>
    <a class="headerlink" href="#Results.x"></a>
    
            <div class="docstring"><p>Dependent measurements</p>
</div>


                            </div>
                            <div id="Results.y" class="classattr">
                                <div class="attr variable">
            <span class="name">y</span><span class="annotation">: pandas.core.frame.DataFrame</span>

        
    </div>
    <a class="headerlink" href="#Results.y"></a>
    
            <div class="docstring"><p>Independent Measurements</p>
</div>


                            </div>
                            <div id="Results.target" class="classattr">
                                <div class="attr variable">
            <span class="name">target</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Results.target"></a>
    
            <div class="docstring"><p>Column name of primary feature to use in calibration</p>
</div>


                            </div>
                            <div id="Results.models" class="classattr">
                                <div class="attr variable">
            <span class="name">models</span><span class="annotation">: dict[str, dict[str, dict[str, dict[int, typing.Union[pathlib.Path, sklearn.pipeline.Pipeline]]]]]</span>

        
    </div>
    <a class="headerlink" href="#Results.models"></a>
    
            <div class="docstring"><p>They are stored in a nested structure as
follows:</p>

<ol>
<li>Primary Key, name of the technique (e.g Lasso Regression).</li>
<li>Scaling technique (e.g Yeo-Johnson Transform).</li>
<li>Combination of variables used or <code><a href="#Results.target">target</a></code> if calibration is
univariate (e.g "<code><a href="#Results.target">target</a></code> + a + b).</li>
<li>Fold, which fold was used excluded from the calibration. If data
if 5-fold cross validated, a key of 4 indicates the data was
trained on folds 0-3.</li>
</ol>

<pre class="mermaid-pre"><div class="mermaid">    stateDiagram-v2
      models --&gt; Technique
      state Technique {
        [*] --&gt; Scaling
        [*]: The calibration technique used
        [*]: (e.g "Lasso Regression")
        state Scaling {
          [*] --&gt; Variables
          [*]: The scaling technique used
          [*]: (e.g "Yeo-Johnson Transform")
          state Variables {
            [*] : The combination of variables used
            [*] : (e.g "x + a + b")
            [*] --&gt; Fold
            state Fold {
             [*] : Which fold was excluded from training data
             [*] : (e.g 4 indicates folds 0-3 were used to train)
            }
          }
        }
      }
</div></pre>
</div>


                            </div>
                            <div id="Results.errors" class="classattr">
                                <div class="attr variable">
            <span class="name">errors</span><span class="annotation">: pandas.core.frame.DataFrame</span>

        
    </div>
    <a class="headerlink" href="#Results.errors"></a>
    
            <div class="docstring"><p>Results of error metric valculations. Index increases sequentially
by 1, columns contain the technique, scaling method, variables and
fold for each row. It also contains a column for each metric.</p>

<table>
<thead>
<tr>
  <th></th>
  <th>Technique</th>
  <th>Scaling Method</th>
  <th>Variables</th>
  <th>Fold</th>
  <th>Explained Variance Score</th>
  <th>...</th>
  <th>Mean Absolute Percentage Error</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0</td>
  <td>Random Forest</td>
  <td>Standard Scaling</td>
  <td>x + a</td>
  <td>0</td>
  <td>0.95</td>
  <td>...</td>
  <td>0.05</td>
</tr>
<tr>
  <td>1</td>
  <td>Theil-Sen</td>
  <td>Yeo-JohnsonScaling</td>
  <td>x + a + b</td>
  <td>1</td>
  <td>0.98</td>
  <td>...</td>
  <td>0.01</td>
</tr>
<tr>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
</tr>
<tr>
  <td>55</td>
  <td>Extra Trees</td>
  <td>None</td>
  <td>x</td>
  <td>2</td>
  <td>0.43</td>
  <td>...</td>
  <td>0.52</td>
</tr>
</tbody>
</table>
</div>


                            </div>
                            <div id="Results.pred_vals" class="classattr">
                                <div class="attr variable">
            <span class="name">pred_vals</span><span class="annotation">: dict[str, dict[str, dict[str, pandas.core.frame.DataFrame]]]</span>

        
    </div>
    <a class="headerlink" href="#Results.pred_vals"></a>
    
    

                            </div>
                            <div id="Results.cached_error_length" class="classattr">
                                <div class="attr variable">
            <span class="name">cached_error_length</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#Results.cached_error_length"></a>
    
    

                            </div>
                            <div id="Results.explained_variance_score" class="classattr">
                                        <input id="Results.explained_variance_score-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">explained_variance_score</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.explained_variance_score-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.explained_variance_score"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.explained_variance_score-342"><a href="#Results.explained_variance_score-342"><span class="linenos">342</span></a>    <span class="k">def</span> <span class="nf">explained_variance_score</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.explained_variance_score-343"><a href="#Results.explained_variance_score-343"><span class="linenos">343</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the explained variance score between the true values (y)</span>
</span><span id="Results.explained_variance_score-344"><a href="#Results.explained_variance_score-344"><span class="linenos">344</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.explained_variance_score-345"><a href="#Results.explained_variance_score-345"><span class="linenos">345</span></a>
</span><span id="Results.explained_variance_score-346"><a href="#Results.explained_variance_score-346"><span class="linenos">346</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.explained_variance_score-347"><a href="#Results.explained_variance_score-347"><span class="linenos">347</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.explained_variance_score-348"><a href="#Results.explained_variance_score-348"><span class="linenos">348</span></a><span class="sd">sklearn.metrics.explained_variance_score\</span>
</span><span id="Results.explained_variance_score-349"><a href="#Results.explained_variance_score-349"><span class="linenos">349</span></a><span class="sd">        )</span>
</span><span id="Results.explained_variance_score-350"><a href="#Results.explained_variance_score-350"><span class="linenos">350</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.explained_variance_score-351"><a href="#Results.explained_variance_score-351"><span class="linenos">351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.explained_variance_score-352"><a href="#Results.explained_variance_score-352"><span class="linenos">352</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">explained_variance_score</span><span class="p">,</span> <span class="s2">&quot;Explained Variance Score&quot;</span>
</span><span id="Results.explained_variance_score-353"><a href="#Results.explained_variance_score-353"><span class="linenos">353</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the explained variance score between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.explained_variance_score        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.max" class="classattr">
                                        <input id="Results.max-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">max</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.max-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.max"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.max-355"><a href="#Results.max-355"><span class="linenos">355</span></a>    <span class="k">def</span> <span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.max-356"><a href="#Results.max-356"><span class="linenos">356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the max error between the true values (y)</span>
</span><span id="Results.max-357"><a href="#Results.max-357"><span class="linenos">357</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.max-358"><a href="#Results.max-358"><span class="linenos">358</span></a>
</span><span id="Results.max-359"><a href="#Results.max-359"><span class="linenos">359</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.max-360"><a href="#Results.max-360"><span class="linenos">360</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.max-361"><a href="#Results.max-361"><span class="linenos">361</span></a><span class="sd">sklearn.metrics.max_error\</span>
</span><span id="Results.max-362"><a href="#Results.max-362"><span class="linenos">362</span></a><span class="sd">        )</span>
</span><span id="Results.max-363"><a href="#Results.max-363"><span class="linenos">363</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.max-364"><a href="#Results.max-364"><span class="linenos">364</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">met</span><span class="o">.</span><span class="n">max_error</span><span class="p">,</span> <span class="s2">&quot;Max Error&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the max error between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.max_error        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.mean_absolute" class="classattr">
                                        <input id="Results.mean_absolute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mean_absolute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.mean_absolute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.mean_absolute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.mean_absolute-366"><a href="#Results.mean_absolute-366"><span class="linenos">366</span></a>    <span class="k">def</span> <span class="nf">mean_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.mean_absolute-367"><a href="#Results.mean_absolute-367"><span class="linenos">367</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean absolute error between the true values (y)</span>
</span><span id="Results.mean_absolute-368"><a href="#Results.mean_absolute-368"><span class="linenos">368</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.mean_absolute-369"><a href="#Results.mean_absolute-369"><span class="linenos">369</span></a>
</span><span id="Results.mean_absolute-370"><a href="#Results.mean_absolute-370"><span class="linenos">370</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.mean_absolute-371"><a href="#Results.mean_absolute-371"><span class="linenos">371</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.mean_absolute-372"><a href="#Results.mean_absolute-372"><span class="linenos">372</span></a><span class="sd">sklearn.metrics.mean_absolute_error\</span>
</span><span id="Results.mean_absolute-373"><a href="#Results.mean_absolute-373"><span class="linenos">373</span></a><span class="sd">        )</span>
</span><span id="Results.mean_absolute-374"><a href="#Results.mean_absolute-374"><span class="linenos">374</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.mean_absolute-375"><a href="#Results.mean_absolute-375"><span class="linenos">375</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.mean_absolute-376"><a href="#Results.mean_absolute-376"><span class="linenos">376</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_absolute_error</span><span class="p">,</span> <span class="s2">&quot;Mean Absolute Error&quot;</span>
</span><span id="Results.mean_absolute-377"><a href="#Results.mean_absolute-377"><span class="linenos">377</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the mean absolute error between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_absolute_error        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.root_mean_squared" class="classattr">
                                        <input id="Results.root_mean_squared-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">root_mean_squared</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.root_mean_squared-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.root_mean_squared"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.root_mean_squared-379"><a href="#Results.root_mean_squared-379"><span class="linenos">379</span></a>    <span class="k">def</span> <span class="nf">root_mean_squared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.root_mean_squared-380"><a href="#Results.root_mean_squared-380"><span class="linenos">380</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the root mean squared error between the true values (y)</span>
</span><span id="Results.root_mean_squared-381"><a href="#Results.root_mean_squared-381"><span class="linenos">381</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.root_mean_squared-382"><a href="#Results.root_mean_squared-382"><span class="linenos">382</span></a>
</span><span id="Results.root_mean_squared-383"><a href="#Results.root_mean_squared-383"><span class="linenos">383</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.root_mean_squared-384"><a href="#Results.root_mean_squared-384"><span class="linenos">384</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.root_mean_squared-385"><a href="#Results.root_mean_squared-385"><span class="linenos">385</span></a><span class="sd">sklearn.metrics.mean_squared_error\</span>
</span><span id="Results.root_mean_squared-386"><a href="#Results.root_mean_squared-386"><span class="linenos">386</span></a><span class="sd">        )</span>
</span><span id="Results.root_mean_squared-387"><a href="#Results.root_mean_squared-387"><span class="linenos">387</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.root_mean_squared-388"><a href="#Results.root_mean_squared-388"><span class="linenos">388</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.root_mean_squared-389"><a href="#Results.root_mean_squared-389"><span class="linenos">389</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_error</span><span class="p">,</span> <span class="s2">&quot;Root Mean Squared Error&quot;</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span>
</span><span id="Results.root_mean_squared-390"><a href="#Results.root_mean_squared-390"><span class="linenos">390</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the root mean squared error between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_error        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.root_mean_squared_log" class="classattr">
                                        <input id="Results.root_mean_squared_log-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">root_mean_squared_log</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.root_mean_squared_log-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.root_mean_squared_log"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.root_mean_squared_log-392"><a href="#Results.root_mean_squared_log-392"><span class="linenos">392</span></a>    <span class="k">def</span> <span class="nf">root_mean_squared_log</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.root_mean_squared_log-393"><a href="#Results.root_mean_squared_log-393"><span class="linenos">393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the root mean squared log error between the true values</span>
</span><span id="Results.root_mean_squared_log-394"><a href="#Results.root_mean_squared_log-394"><span class="linenos">394</span></a><span class="sd">        (y) and predicted y (x) [^tech].</span>
</span><span id="Results.root_mean_squared_log-395"><a href="#Results.root_mean_squared_log-395"><span class="linenos">395</span></a>
</span><span id="Results.root_mean_squared_log-396"><a href="#Results.root_mean_squared_log-396"><span class="linenos">396</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.root_mean_squared_log-397"><a href="#Results.root_mean_squared_log-397"><span class="linenos">397</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.root_mean_squared_log-398"><a href="#Results.root_mean_squared_log-398"><span class="linenos">398</span></a><span class="sd">sklearn.metrics.mean_squared_log_error\</span>
</span><span id="Results.root_mean_squared_log-399"><a href="#Results.root_mean_squared_log-399"><span class="linenos">399</span></a><span class="sd">        )</span>
</span><span id="Results.root_mean_squared_log-400"><a href="#Results.root_mean_squared_log-400"><span class="linenos">400</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.root_mean_squared_log-401"><a href="#Results.root_mean_squared_log-401"><span class="linenos">401</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.root_mean_squared_log-402"><a href="#Results.root_mean_squared_log-402"><span class="linenos">402</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_squared_log_error</span><span class="p">,</span>
</span><span id="Results.root_mean_squared_log-403"><a href="#Results.root_mean_squared_log-403"><span class="linenos">403</span></a>            <span class="s2">&quot;Root Mean Squared Log Error&quot;</span><span class="p">,</span>
</span><span id="Results.root_mean_squared_log-404"><a href="#Results.root_mean_squared_log-404"><span class="linenos">404</span></a>            <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="Results.root_mean_squared_log-405"><a href="#Results.root_mean_squared_log-405"><span class="linenos">405</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the root mean squared log error between the true values
(y) and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_log_error        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.median_absolute" class="classattr">
                                        <input id="Results.median_absolute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">median_absolute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.median_absolute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.median_absolute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.median_absolute-407"><a href="#Results.median_absolute-407"><span class="linenos">407</span></a>    <span class="k">def</span> <span class="nf">median_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.median_absolute-408"><a href="#Results.median_absolute-408"><span class="linenos">408</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the median absolute error between the true values (y)</span>
</span><span id="Results.median_absolute-409"><a href="#Results.median_absolute-409"><span class="linenos">409</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.median_absolute-410"><a href="#Results.median_absolute-410"><span class="linenos">410</span></a>
</span><span id="Results.median_absolute-411"><a href="#Results.median_absolute-411"><span class="linenos">411</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.median_absolute-412"><a href="#Results.median_absolute-412"><span class="linenos">412</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.median_absolute-413"><a href="#Results.median_absolute-413"><span class="linenos">413</span></a><span class="sd">sklearn.metrics.median_absolute_error\</span>
</span><span id="Results.median_absolute-414"><a href="#Results.median_absolute-414"><span class="linenos">414</span></a><span class="sd">        )</span>
</span><span id="Results.median_absolute-415"><a href="#Results.median_absolute-415"><span class="linenos">415</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.median_absolute-416"><a href="#Results.median_absolute-416"><span class="linenos">416</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.median_absolute-417"><a href="#Results.median_absolute-417"><span class="linenos">417</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">median_absolute_error</span><span class="p">,</span> <span class="s2">&quot;Median Absolute Error&quot;</span>
</span><span id="Results.median_absolute-418"><a href="#Results.median_absolute-418"><span class="linenos">418</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the median absolute error between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.median_absolute_error        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.mean_absolute_percentage" class="classattr">
                                        <input id="Results.mean_absolute_percentage-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mean_absolute_percentage</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.mean_absolute_percentage-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.mean_absolute_percentage"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.mean_absolute_percentage-420"><a href="#Results.mean_absolute_percentage-420"><span class="linenos">420</span></a>    <span class="k">def</span> <span class="nf">mean_absolute_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.mean_absolute_percentage-421"><a href="#Results.mean_absolute_percentage-421"><span class="linenos">421</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean absolute percentage error between the true</span>
</span><span id="Results.mean_absolute_percentage-422"><a href="#Results.mean_absolute_percentage-422"><span class="linenos">422</span></a><span class="sd">        values (y) and predicted y (x) [^tech].</span>
</span><span id="Results.mean_absolute_percentage-423"><a href="#Results.mean_absolute_percentage-423"><span class="linenos">423</span></a>
</span><span id="Results.mean_absolute_percentage-424"><a href="#Results.mean_absolute_percentage-424"><span class="linenos">424</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.mean_absolute_percentage-425"><a href="#Results.mean_absolute_percentage-425"><span class="linenos">425</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.mean_absolute_percentage-426"><a href="#Results.mean_absolute_percentage-426"><span class="linenos">426</span></a><span class="sd">sklearn.metrics.mean_absolute_percentage_error\</span>
</span><span id="Results.mean_absolute_percentage-427"><a href="#Results.mean_absolute_percentage-427"><span class="linenos">427</span></a><span class="sd">        )</span>
</span><span id="Results.mean_absolute_percentage-428"><a href="#Results.mean_absolute_percentage-428"><span class="linenos">428</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.mean_absolute_percentage-429"><a href="#Results.mean_absolute_percentage-429"><span class="linenos">429</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.mean_absolute_percentage-430"><a href="#Results.mean_absolute_percentage-430"><span class="linenos">430</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_absolute_percentage_error</span><span class="p">,</span>
</span><span id="Results.mean_absolute_percentage-431"><a href="#Results.mean_absolute_percentage-431"><span class="linenos">431</span></a>            <span class="s2">&quot;Mean Absolute Percentage Error&quot;</span><span class="p">,</span>
</span><span id="Results.mean_absolute_percentage-432"><a href="#Results.mean_absolute_percentage-432"><span class="linenos">432</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the mean absolute percentage error between the true
values (y) and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_absolute_percentage_error        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.r2" class="classattr">
                                        <input id="Results.r2-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">r2</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.r2-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.r2"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.r2-434"><a href="#Results.r2-434"><span class="linenos">434</span></a>    <span class="k">def</span> <span class="nf">r2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.r2-435"><a href="#Results.r2-435"><span class="linenos">435</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the r2 between the true values (y)</span>
</span><span id="Results.r2-436"><a href="#Results.r2-436"><span class="linenos">436</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.r2-437"><a href="#Results.r2-437"><span class="linenos">437</span></a>
</span><span id="Results.r2-438"><a href="#Results.r2-438"><span class="linenos">438</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.r2-439"><a href="#Results.r2-439"><span class="linenos">439</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.r2-440"><a href="#Results.r2-440"><span class="linenos">440</span></a><span class="sd">sklearn.metrics.r2_score\</span>
</span><span id="Results.r2-441"><a href="#Results.r2-441"><span class="linenos">441</span></a><span class="sd">        )</span>
</span><span id="Results.r2-442"><a href="#Results.r2-442"><span class="linenos">442</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.r2-443"><a href="#Results.r2-443"><span class="linenos">443</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">met</span><span class="o">.</span><span class="n">r2_score</span><span class="p">,</span> <span class="s2">&quot;r2&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the r2 between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.r2_score        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.mean_poisson_deviance" class="classattr">
                                        <input id="Results.mean_poisson_deviance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mean_poisson_deviance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.mean_poisson_deviance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.mean_poisson_deviance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.mean_poisson_deviance-445"><a href="#Results.mean_poisson_deviance-445"><span class="linenos">445</span></a>    <span class="k">def</span> <span class="nf">mean_poisson_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.mean_poisson_deviance-446"><a href="#Results.mean_poisson_deviance-446"><span class="linenos">446</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean poisson deviance between the true values (y)</span>
</span><span id="Results.mean_poisson_deviance-447"><a href="#Results.mean_poisson_deviance-447"><span class="linenos">447</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.mean_poisson_deviance-448"><a href="#Results.mean_poisson_deviance-448"><span class="linenos">448</span></a>
</span><span id="Results.mean_poisson_deviance-449"><a href="#Results.mean_poisson_deviance-449"><span class="linenos">449</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.mean_poisson_deviance-450"><a href="#Results.mean_poisson_deviance-450"><span class="linenos">450</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.mean_poisson_deviance-451"><a href="#Results.mean_poisson_deviance-451"><span class="linenos">451</span></a><span class="sd">sklearn.metrics.mean_poisson_deviance\</span>
</span><span id="Results.mean_poisson_deviance-452"><a href="#Results.mean_poisson_deviance-452"><span class="linenos">452</span></a><span class="sd">        )</span>
</span><span id="Results.mean_poisson_deviance-453"><a href="#Results.mean_poisson_deviance-453"><span class="linenos">453</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.mean_poisson_deviance-454"><a href="#Results.mean_poisson_deviance-454"><span class="linenos">454</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.mean_poisson_deviance-455"><a href="#Results.mean_poisson_deviance-455"><span class="linenos">455</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_poisson_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Poisson Deviance&quot;</span>
</span><span id="Results.mean_poisson_deviance-456"><a href="#Results.mean_poisson_deviance-456"><span class="linenos">456</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the mean poisson deviance between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_poisson_deviance        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.mean_gamma_deviance" class="classattr">
                                        <input id="Results.mean_gamma_deviance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mean_gamma_deviance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.mean_gamma_deviance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.mean_gamma_deviance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.mean_gamma_deviance-458"><a href="#Results.mean_gamma_deviance-458"><span class="linenos">458</span></a>    <span class="k">def</span> <span class="nf">mean_gamma_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.mean_gamma_deviance-459"><a href="#Results.mean_gamma_deviance-459"><span class="linenos">459</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean gamma deviance between the true values (y)</span>
</span><span id="Results.mean_gamma_deviance-460"><a href="#Results.mean_gamma_deviance-460"><span class="linenos">460</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.mean_gamma_deviance-461"><a href="#Results.mean_gamma_deviance-461"><span class="linenos">461</span></a>
</span><span id="Results.mean_gamma_deviance-462"><a href="#Results.mean_gamma_deviance-462"><span class="linenos">462</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.mean_gamma_deviance-463"><a href="#Results.mean_gamma_deviance-463"><span class="linenos">463</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.mean_gamma_deviance-464"><a href="#Results.mean_gamma_deviance-464"><span class="linenos">464</span></a><span class="sd">sklearn.metrics.mean_gamma_deviance\</span>
</span><span id="Results.mean_gamma_deviance-465"><a href="#Results.mean_gamma_deviance-465"><span class="linenos">465</span></a><span class="sd">        )</span>
</span><span id="Results.mean_gamma_deviance-466"><a href="#Results.mean_gamma_deviance-466"><span class="linenos">466</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.mean_gamma_deviance-467"><a href="#Results.mean_gamma_deviance-467"><span class="linenos">467</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.mean_gamma_deviance-468"><a href="#Results.mean_gamma_deviance-468"><span class="linenos">468</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_gamma_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Gamma Deviance&quot;</span>
</span><span id="Results.mean_gamma_deviance-469"><a href="#Results.mean_gamma_deviance-469"><span class="linenos">469</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the mean gamma deviance between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_gamma_deviance        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.mean_tweedie_deviance" class="classattr">
                                        <input id="Results.mean_tweedie_deviance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mean_tweedie_deviance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.mean_tweedie_deviance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.mean_tweedie_deviance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.mean_tweedie_deviance-471"><a href="#Results.mean_tweedie_deviance-471"><span class="linenos">471</span></a>    <span class="k">def</span> <span class="nf">mean_tweedie_deviance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.mean_tweedie_deviance-472"><a href="#Results.mean_tweedie_deviance-472"><span class="linenos">472</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean tweedie deviance between the true values (y)</span>
</span><span id="Results.mean_tweedie_deviance-473"><a href="#Results.mean_tweedie_deviance-473"><span class="linenos">473</span></a><span class="sd">        and predicted y (x) [^tech].</span>
</span><span id="Results.mean_tweedie_deviance-474"><a href="#Results.mean_tweedie_deviance-474"><span class="linenos">474</span></a>
</span><span id="Results.mean_tweedie_deviance-475"><a href="#Results.mean_tweedie_deviance-475"><span class="linenos">475</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.mean_tweedie_deviance-476"><a href="#Results.mean_tweedie_deviance-476"><span class="linenos">476</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated/\</span>
</span><span id="Results.mean_tweedie_deviance-477"><a href="#Results.mean_tweedie_deviance-477"><span class="linenos">477</span></a><span class="sd">sklearn.metrics.mean_tweedie_deviance\</span>
</span><span id="Results.mean_tweedie_deviance-478"><a href="#Results.mean_tweedie_deviance-478"><span class="linenos">478</span></a><span class="sd">        )</span>
</span><span id="Results.mean_tweedie_deviance-479"><a href="#Results.mean_tweedie_deviance-479"><span class="linenos">479</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.mean_tweedie_deviance-480"><a href="#Results.mean_tweedie_deviance-480"><span class="linenos">480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.mean_tweedie_deviance-481"><a href="#Results.mean_tweedie_deviance-481"><span class="linenos">481</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_tweedie_deviance</span><span class="p">,</span> <span class="s2">&quot;Mean Tweedie Deviance&quot;</span>
</span><span id="Results.mean_tweedie_deviance-482"><a href="#Results.mean_tweedie_deviance-482"><span class="linenos">482</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the mean tweedie deviance between the true values (y)
and predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_tweedie_deviance        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.mean_pinball_loss" class="classattr">
                                        <input id="Results.mean_pinball_loss-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mean_pinball_loss</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.mean_pinball_loss-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.mean_pinball_loss"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.mean_pinball_loss-484"><a href="#Results.mean_pinball_loss-484"><span class="linenos">484</span></a>    <span class="k">def</span> <span class="nf">mean_pinball_loss</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.mean_pinball_loss-485"><a href="#Results.mean_pinball_loss-485"><span class="linenos">485</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the mean pinball loss between the true values (y)</span>
</span><span id="Results.mean_pinball_loss-486"><a href="#Results.mean_pinball_loss-486"><span class="linenos">486</span></a><span class="sd">        predicted y (x) [^tech].</span>
</span><span id="Results.mean_pinball_loss-487"><a href="#Results.mean_pinball_loss-487"><span class="linenos">487</span></a>
</span><span id="Results.mean_pinball_loss-488"><a href="#Results.mean_pinball_loss-488"><span class="linenos">488</span></a><span class="sd">        [^tech]: [Link](\</span>
</span><span id="Results.mean_pinball_loss-489"><a href="#Results.mean_pinball_loss-489"><span class="linenos">489</span></a><span class="sd">        https://scikit-learn.org/stable/modules/generated\</span>
</span><span id="Results.mean_pinball_loss-490"><a href="#Results.mean_pinball_loss-490"><span class="linenos">490</span></a><span class="sd">/sklearn.metrics.mean_pinball_loss\</span>
</span><span id="Results.mean_pinball_loss-491"><a href="#Results.mean_pinball_loss-491"><span class="linenos">491</span></a><span class="sd">        )</span>
</span><span id="Results.mean_pinball_loss-492"><a href="#Results.mean_pinball_loss-492"><span class="linenos">492</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.mean_pinball_loss-493"><a href="#Results.mean_pinball_loss-493"><span class="linenos">493</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span>
</span><span id="Results.mean_pinball_loss-494"><a href="#Results.mean_pinball_loss-494"><span class="linenos">494</span></a>            <span class="n">met</span><span class="o">.</span><span class="n">mean_pinball_loss</span><span class="p">,</span> <span class="s2">&quot;Mean Pinball Deviance&quot;</span>
</span><span id="Results.mean_pinball_loss-495"><a href="#Results.mean_pinball_loss-495"><span class="linenos">495</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the mean pinball loss between the true values (y)
predicted y (x) <sup class="footnote-ref" id="fnref-tech"><a href="#fn-tech">1</a></sup>.</p>

<div class="footnotes">
<hr />
<ol>
<li id="fn-tech">
<p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_pinball_loss        ">Link</a>&#160;<a href="#fnref-tech" class="footnoteBackLink" title="Jump back to footnote 1 in the text.">&#8617;</a></p>
</li>
</ol>
</div>
</div>


                            </div>
                            <div id="Results.centered_rmse" class="classattr">
                                        <input id="Results.centered_rmse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">centered_rmse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.centered_rmse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.centered_rmse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.centered_rmse-497"><a href="#Results.centered_rmse-497"><span class="linenos">497</span></a>    <span class="k">def</span> <span class="nf">centered_rmse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.centered_rmse-498"><a href="#Results.centered_rmse-498"><span class="linenos">498</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.centered_rmse-499"><a href="#Results.centered_rmse-499"><span class="linenos">499</span></a><span class="sd">        Calculate the centered root mean squared error between pred and true</span>
</span><span id="Results.centered_rmse-500"><a href="#Results.centered_rmse-500"><span class="linenos">500</span></a>
</span><span id="Results.centered_rmse-501"><a href="#Results.centered_rmse-501"><span class="linenos">501</span></a><span class="sd">        $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n-\\bar{p}) - \</span>
</span><span id="Results.centered_rmse-502"><a href="#Results.centered_rmse-502"><span class="linenos">502</span></a><span class="sd">(t_n-\\bar{t})]^2}$</span>
</span><span id="Results.centered_rmse-503"><a href="#Results.centered_rmse-503"><span class="linenos">503</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.centered_rmse-504"><a href="#Results.centered_rmse-504"><span class="linenos">504</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">crmse</span><span class="p">,</span> <span class="s2">&quot;Centered Root Mean Squared Error&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculate the centered root mean squared error between pred and true</p>

<p>$\sqrt{\frac{1}{N}\sum_{n=1}^{N}[(p_n-\bar{p}) - (t_n-\bar{t})]^2}$</p>
</div>


                            </div>
                            <div id="Results.unbiased_rmse" class="classattr">
                                        <input id="Results.unbiased_rmse-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unbiased_rmse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.unbiased_rmse-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.unbiased_rmse"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.unbiased_rmse-506"><a href="#Results.unbiased_rmse-506"><span class="linenos">506</span></a>    <span class="k">def</span> <span class="nf">unbiased_rmse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.unbiased_rmse-507"><a href="#Results.unbiased_rmse-507"><span class="linenos">507</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.unbiased_rmse-508"><a href="#Results.unbiased_rmse-508"><span class="linenos">508</span></a><span class="sd">        Calculates the unbiased root mean squared error between pred and true</span>
</span><span id="Results.unbiased_rmse-509"><a href="#Results.unbiased_rmse-509"><span class="linenos">509</span></a>
</span><span id="Results.unbiased_rmse-510"><a href="#Results.unbiased_rmse-510"><span class="linenos">510</span></a><span class="sd">        $\\sqrt{\\frac{1}{N}\\sum_{n=1}^{N}[(p_n - t_n)^2] - (\\frac{1}{N}\\\</span>
</span><span id="Results.unbiased_rmse-511"><a href="#Results.unbiased_rmse-511"><span class="linenos">511</span></a><span class="sd">sum_{n=1}^{N}[p_n - t_n])^2}$</span>
</span><span id="Results.unbiased_rmse-512"><a href="#Results.unbiased_rmse-512"><span class="linenos">512</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.unbiased_rmse-513"><a href="#Results.unbiased_rmse-513"><span class="linenos">513</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ubrmse</span><span class="p">,</span> <span class="s2">&quot;Unbiased Root Mean Squared Error&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates the unbiased root mean squared error between pred and true</p>

<p>$\sqrt{\frac{1}{N}\sum_{n=1}^{N}[(p_n - t_n)^2] - (\frac{1}{N}\sum_{n=1}^{N}[p_n - t_n])^2}$</p>
</div>


                            </div>
                            <div id="Results.mbe" class="classattr">
                                        <input id="Results.mbe-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mbe</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.mbe-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.mbe"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.mbe-515"><a href="#Results.mbe-515"><span class="linenos">515</span></a>    <span class="k">def</span> <span class="nf">mbe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.mbe-516"><a href="#Results.mbe-516"><span class="linenos">516</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.mbe-517"><a href="#Results.mbe-517"><span class="linenos">517</span></a><span class="sd">        Calculates the mean bias error between pred and true</span>
</span><span id="Results.mbe-518"><a href="#Results.mbe-518"><span class="linenos">518</span></a>
</span><span id="Results.mbe-519"><a href="#Results.mbe-519"><span class="linenos">519</span></a><span class="sd">        $\\frac{1}{N}\\sum_{n=1}^{N}[p_n - t_n]$</span>
</span><span id="Results.mbe-520"><a href="#Results.mbe-520"><span class="linenos">520</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.mbe-521"><a href="#Results.mbe-521"><span class="linenos">521</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">mean_bias_error</span><span class="p">,</span> <span class="s2">&quot;Mean Bias Error&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates the mean bias error between pred and true</p>

<p>$\frac{1}{N}\sum_{n=1}^{N}[p_n - t_n]$</p>
</div>


                            </div>
                            <div id="Results.ref_iqr" class="classattr">
                                        <input id="Results.ref_iqr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_iqr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.ref_iqr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.ref_iqr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.ref_iqr-523"><a href="#Results.ref_iqr-523"><span class="linenos">523</span></a>    <span class="k">def</span> <span class="nf">ref_iqr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.ref_iqr-524"><a href="#Results.ref_iqr-524"><span class="linenos">524</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.ref_iqr-525"><a href="#Results.ref_iqr-525"><span class="linenos">525</span></a><span class="sd">        Calculates interquartile range of reference measurements, useful for</span>
</span><span id="Results.ref_iqr-526"><a href="#Results.ref_iqr-526"><span class="linenos">526</span></a><span class="sd">        normalising errors</span>
</span><span id="Results.ref_iqr-527"><a href="#Results.ref_iqr-527"><span class="linenos">527</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.ref_iqr-528"><a href="#Results.ref_iqr-528"><span class="linenos">528</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_iqr</span><span class="p">,</span> <span class="s2">&quot;Reference Interquartile Range&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates interquartile range of reference measurements, useful for
normalising errors</p>
</div>


                            </div>
                            <div id="Results.ref_mean" class="classattr">
                                        <input id="Results.ref_mean-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_mean</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.ref_mean-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.ref_mean"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.ref_mean-530"><a href="#Results.ref_mean-530"><span class="linenos">530</span></a>    <span class="k">def</span> <span class="nf">ref_mean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.ref_mean-531"><a href="#Results.ref_mean-531"><span class="linenos">531</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.ref_mean-532"><a href="#Results.ref_mean-532"><span class="linenos">532</span></a><span class="sd">        Calculates mean of reference measurements, useful for</span>
</span><span id="Results.ref_mean-533"><a href="#Results.ref_mean-533"><span class="linenos">533</span></a><span class="sd">        normalising errors</span>
</span><span id="Results.ref_mean-534"><a href="#Results.ref_mean-534"><span class="linenos">534</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.ref_mean-535"><a href="#Results.ref_mean-535"><span class="linenos">535</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_mean</span><span class="p">,</span> <span class="s2">&quot;Reference Mean&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates mean of reference measurements, useful for
normalising errors</p>
</div>


                            </div>
                            <div id="Results.ref_range" class="classattr">
                                        <input id="Results.ref_range-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_range</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.ref_range-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.ref_range"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.ref_range-537"><a href="#Results.ref_range-537"><span class="linenos">537</span></a>    <span class="k">def</span> <span class="nf">ref_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.ref_range-538"><a href="#Results.ref_range-538"><span class="linenos">538</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.ref_range-539"><a href="#Results.ref_range-539"><span class="linenos">539</span></a><span class="sd">        Calculates range of reference measurements, useful for</span>
</span><span id="Results.ref_range-540"><a href="#Results.ref_range-540"><span class="linenos">540</span></a><span class="sd">        normalising errors</span>
</span><span id="Results.ref_range-541"><a href="#Results.ref_range-541"><span class="linenos">541</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.ref_range-542"><a href="#Results.ref_range-542"><span class="linenos">542</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_range</span><span class="p">,</span> <span class="s2">&quot;Reference Range&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates range of reference measurements, useful for
normalising errors</p>
</div>


                            </div>
                            <div id="Results.ref_sd" class="classattr">
                                        <input id="Results.ref_sd-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ref_sd</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Results.ref_sd-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.ref_sd"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.ref_sd-544"><a href="#Results.ref_sd-544"><span class="linenos">544</span></a>    <span class="k">def</span> <span class="nf">ref_sd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Results.ref_sd-545"><a href="#Results.ref_sd-545"><span class="linenos">545</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.ref_sd-546"><a href="#Results.ref_sd-546"><span class="linenos">546</span></a><span class="sd">        Calculates standard deviation of reference measurements, useful for</span>
</span><span id="Results.ref_sd-547"><a href="#Results.ref_sd-547"><span class="linenos">547</span></a><span class="sd">        normalising errors</span>
</span><span id="Results.ref_sd-548"><a href="#Results.ref_sd-548"><span class="linenos">548</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.ref_sd-549"><a href="#Results.ref_sd-549"><span class="linenos">549</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_sklearn_error_meta</span><span class="p">(</span><span class="n">ref_sd</span><span class="p">,</span> <span class="s2">&quot;Reference Standard Deviation&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Calculates standard deviation of reference measurements, useful for
normalising errors</p>
</div>


                            </div>
                            <div id="Results.return_errors" class="classattr">
                                        <input id="Results.return_errors-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">return_errors</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="Results.return_errors-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Results.return_errors"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Results.return_errors-551"><a href="#Results.return_errors-551"><span class="linenos">551</span></a>    <span class="k">def</span> <span class="nf">return_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="Results.return_errors-552"><a href="#Results.return_errors-552"><span class="linenos">552</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Results.return_errors-553"><a href="#Results.return_errors-553"><span class="linenos">553</span></a><span class="sd">        Returns all calculated errors in dataframe format</span>
</span><span id="Results.return_errors-554"><a href="#Results.return_errors-554"><span class="linenos">554</span></a>
</span><span id="Results.return_errors-555"><a href="#Results.return_errors-555"><span class="linenos">555</span></a><span class="sd">        Initially the error dataframe has the following structure:</span>
</span><span id="Results.return_errors-556"><a href="#Results.return_errors-556"><span class="linenos">556</span></a>
</span><span id="Results.return_errors-557"><a href="#Results.return_errors-557"><span class="linenos">557</span></a><span class="sd">        ||Technique|Scaling Method|Variables|Fold|Explained Variance Score|\</span>
</span><span id="Results.return_errors-558"><a href="#Results.return_errors-558"><span class="linenos">558</span></a><span class="sd">        ...|Mean Absolute Percentage Error|</span>
</span><span id="Results.return_errors-559"><a href="#Results.return_errors-559"><span class="linenos">559</span></a><span class="sd">        |---|---|---|---|---|---|---|---|</span>
</span><span id="Results.return_errors-560"><a href="#Results.return_errors-560"><span class="linenos">560</span></a><span class="sd">        |0|Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="Results.return_errors-561"><a href="#Results.return_errors-561"><span class="linenos">561</span></a><span class="sd">        |1|Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="Results.return_errors-562"><a href="#Results.return_errors-562"><span class="linenos">562</span></a><span class="sd">        |...|...|...|...|...|...|...|...|</span>
</span><span id="Results.return_errors-563"><a href="#Results.return_errors-563"><span class="linenos">563</span></a><span class="sd">        |55|Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="Results.return_errors-564"><a href="#Results.return_errors-564"><span class="linenos">564</span></a>
</span><span id="Results.return_errors-565"><a href="#Results.return_errors-565"><span class="linenos">565</span></a><span class="sd">        However, before returning the data, a new MultiIndex is built using</span>
</span><span id="Results.return_errors-566"><a href="#Results.return_errors-566"><span class="linenos">566</span></a><span class="sd">        the Technique, Scaling Method, Variables and Fold columns. This</span>
</span><span id="Results.return_errors-567"><a href="#Results.return_errors-567"><span class="linenos">567</span></a><span class="sd">        allows easy comparison of the different techniques by grouping on one</span>
</span><span id="Results.return_errors-568"><a href="#Results.return_errors-568"><span class="linenos">568</span></a><span class="sd">        or multiple levels of the MultiIndex.</span>
</span><span id="Results.return_errors-569"><a href="#Results.return_errors-569"><span class="linenos">569</span></a>
</span><span id="Results.return_errors-570"><a href="#Results.return_errors-570"><span class="linenos">570</span></a><span class="sd">        Returns</span>
</span><span id="Results.return_errors-571"><a href="#Results.return_errors-571"><span class="linenos">571</span></a><span class="sd">        -------</span>
</span><span id="Results.return_errors-572"><a href="#Results.return_errors-572"><span class="linenos">572</span></a><span class="sd">        pd.DataFrame</span>
</span><span id="Results.return_errors-573"><a href="#Results.return_errors-573"><span class="linenos">573</span></a><span class="sd">            Results dataframe in the following format:</span>
</span><span id="Results.return_errors-574"><a href="#Results.return_errors-574"><span class="linenos">574</span></a>
</span><span id="Results.return_errors-575"><a href="#Results.return_errors-575"><span class="linenos">575</span></a><span class="sd">            |||||Explained Variance Score|\</span>
</span><span id="Results.return_errors-576"><a href="#Results.return_errors-576"><span class="linenos">576</span></a><span class="sd">            ...|Mean Absolute Percentage Error|</span>
</span><span id="Results.return_errors-577"><a href="#Results.return_errors-577"><span class="linenos">577</span></a><span class="sd">            |---|---|---|---|---|---|---|</span>
</span><span id="Results.return_errors-578"><a href="#Results.return_errors-578"><span class="linenos">578</span></a><span class="sd">            |Random Forest|Standard Scaling|x + a|0|0.95|...|0.05|</span>
</span><span id="Results.return_errors-579"><a href="#Results.return_errors-579"><span class="linenos">579</span></a><span class="sd">            |Theil-Sen|Yeo-JohnsonScaling|x + a + b|1|0.98|...|0.01|</span>
</span><span id="Results.return_errors-580"><a href="#Results.return_errors-580"><span class="linenos">580</span></a><span class="sd">            |...|...|...|...|...|...|...|</span>
</span><span id="Results.return_errors-581"><a href="#Results.return_errors-581"><span class="linenos">581</span></a><span class="sd">            |Extra Trees|None|x|2|0.43|...|0.52|</span>
</span><span id="Results.return_errors-582"><a href="#Results.return_errors-582"><span class="linenos">582</span></a>
</span><span id="Results.return_errors-583"><a href="#Results.return_errors-583"><span class="linenos">583</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Results.return_errors-584"><a href="#Results.return_errors-584"><span class="linenos">584</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span>
</span></pre></div>


            <div class="docstring"><p>Returns all calculated errors in dataframe format</p>

<p>Initially the error dataframe has the following structure:</p>

<table>
<thead>
<tr>
  <th></th>
  <th>Technique</th>
  <th>Scaling Method</th>
  <th>Variables</th>
  <th>Fold</th>
  <th>Explained Variance Score</th>
  <th>...</th>
  <th>Mean Absolute Percentage Error</th>
</tr>
</thead>
<tbody>
<tr>
  <td>0</td>
  <td>Random Forest</td>
  <td>Standard Scaling</td>
  <td>x + a</td>
  <td>0</td>
  <td>0.95</td>
  <td>...</td>
  <td>0.05</td>
</tr>
<tr>
  <td>1</td>
  <td>Theil-Sen</td>
  <td>Yeo-JohnsonScaling</td>
  <td>x + a + b</td>
  <td>1</td>
  <td>0.98</td>
  <td>...</td>
  <td>0.01</td>
</tr>
<tr>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
</tr>
<tr>
  <td>55</td>
  <td>Extra Trees</td>
  <td>None</td>
  <td>x</td>
  <td>2</td>
  <td>0.43</td>
  <td>...</td>
  <td>0.52</td>
</tr>
</tbody>
</table>

<p>However, before returning the data, a new MultiIndex is built using
the Technique, Scaling Method, Variables and Fold columns. This
allows easy comparison of the different techniques by grouping on one
or multiple levels of the MultiIndex.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>pd.DataFrame</strong>: Results dataframe in the following format:</li>
</ul>

<table>
<thead>
<tr>
  <th></th>
  <th></th>
  <th></th>
  <th></th>
  <th>Explained Variance Score</th>
  <th>...</th>
  <th>Mean Absolute Percentage Error</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Random Forest</td>
  <td>Standard Scaling</td>
  <td>x + a</td>
  <td>0</td>
  <td>0.95</td>
  <td>...</td>
  <td>0.05</td>
</tr>
<tr>
  <td>Theil-Sen</td>
  <td>Yeo-JohnsonScaling</td>
  <td>x + a + b</td>
  <td>1</td>
  <td>0.98</td>
  <td>...</td>
  <td>0.01</td>
</tr>
<tr>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
  <td>...</td>
</tr>
<tr>
  <td>Extra Trees</td>
  <td>None</td>
  <td>x</td>
  <td>2</td>
  <td>0.43</td>
  <td>...</td>
  <td>0.52</td>
</tr>
</tbody>
</table>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>